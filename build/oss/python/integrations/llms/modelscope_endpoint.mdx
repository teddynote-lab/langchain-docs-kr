---
title: ModelScopeEndpoint
---


ModelScope ([홈페이지](https://www.modelscope.cn/) | [GitHub](https://github.com/modelscope/modelscope))는 "Model-as-a-Service" (MaaS) 개념을 기반으로 구축되었습니다. AI 커뮤니티의 가장 진보된 머신러닝 모델들을 한데 모으고, 실제 애플리케이션에서 AI 모델을 활용하는 프로세스를 간소화하는 것을 목표로 합니다. 이 저장소에서 오픈소스로 공개된 핵심 ModelScope 라이브러리는 개발자가 모델 추론, 학습 및 평가를 수행할 수 있는 인터페이스와 구현을 제공합니다. 이 문서는 LangChain을 사용하여 ModelScope completion 모델(LLM)을 시작하는 데 도움이 됩니다.

## Overview

### Integration details

| Provider  | Class | Package | Local | Serializable | Downloads | Version |
| :--- | :--- | :---: | :---: |  :---: | :---: | :---: |
| [ModelScope](/oss/python/integrations/providers/modelscope/) | ModelScopeEndpoint | [langchain-modelscope-integration](https://pypi.org/project/langchain-modelscope-integration/) | ❌ | ❌ | ![PyPI - Downloads](https://img.shields.io/pypi/dm/langchain-modelscope-integration?style=flat-square&label=%20) | ![PyPI - Version](https://img.shields.io/pypi/v/langchain-modelscope-integration?style=flat-square&label=%20) |

## Setup

ModelScope 모델에 액세스하려면 ModelScope 계정을 생성하고, SDK token을 받고, `langchain-modelscope-integration` integration package를 설치해야 합니다.

### Credentials

[ModelScope](https://modelscope.cn/)로 이동하여 ModelScope에 가입하고 [SDK token](https://modelscope.cn/my/myaccesstoken)을 생성하세요. 완료한 후 `MODELSCOPE_SDK_TOKEN` environment variable을 설정하세요:

```python
import getpass
import os

if not os.getenv("MODELSCOPE_SDK_TOKEN"):
    os.environ["MODELSCOPE_SDK_TOKEN"] = getpass.getpass(
        "Enter your ModelScope SDK token: "
    )
```

### Installation

LangChain ModelScope integration은 `langchain-modelscope-integration` package에 있습니다:

```python
pip install -qU langchain-modelscope-integration
```

## Instantiation

이제 model object를 인스턴스화하고 chat completion을 생성할 수 있습니다:

```python
from langchain_modelscope import ModelScopeEndpoint

llm = ModelScopeEndpoint(
    model="Qwen/Qwen2.5-Coder-32B-Instruct",
    temperature=0,
    max_tokens=1024,
    timeout=60,
)
```

## Invocation

```python
input_text = "Write a quick sort algorithm in python"

completion = llm.invoke(input_text)
completion
```

```output
'Certainly! Quick sort is a popular and efficient sorting algorithm that uses a divide-and-conquer approach to sort elements. Below is a simple implementation of the Quick Sort algorithm in Python:\n\n\`\`\`python\ndef quick_sort(arr):\n    # Base case: if the array is empty or has one element, it\'s already sorted\n    if len(arr) <= 1:\n        return arr\n    else:\n        # Choose a pivot element from the array\n        pivot = arr[len(arr) // 2]\n        \n        # Partition the array into three parts:\n        # - elements less than the pivot\n        # - elements equal to the pivot\n        # - elements greater than the pivot\n        less_than_pivot = [x for x in arr if x < pivot]\n        equal_to_pivot = [x for x in arr if x == pivot]\n        greater_than_pivot = [x for x in arr if x > pivot]\n        \n        # Recursively apply quick_sort to the less_than_pivot and greater_than_pivot subarrays\n        return quick_sort(less_than_pivot) + equal_to_pivot + quick_sort(greater_than_pivot)\n\n# Example usage:\narr = [3, 6, 8, 10, 1, 2, 1]\nsorted_arr = quick_sort(arr)\nprint("Sorted array:", sorted_arr)\n\`\`\`\n\n### Explanation:\n1. **Base Case**: If the array has one or zero elements, it is already sorted, so we return it as is.\n2. **Pivot Selection**: We choose the middle element of the array as the pivot. This is a simple strategy, but there are other strategies for choosing a pivot.\n3. **Partitioning**: We partition the array into three lists:\n   - `less_than_pivot`: Elements less than the pivot.\n   - `equal_to_pivot`: Elements equal to the pivot.\n   - `greater_than_pivot`: Elements greater than the pivot.\n4. **Recursive Sorting**: We recursively sort the `less_than_pivot` and `greater_than_pivot` lists and concatenate them with the `equal_to_pivot` list to get the final sorted array.\n\nThis implementation is straightforward and easy to understand, but it may not be the most efficient in terms of space complexity due to the use of additional lists. For an in-place version of Quick Sort, you can modify the algorithm to sort the array within its own memory space.'
```

```python
for chunk in llm.stream("write a python program to sort an array"):
    print(chunk, end="", flush=True)
```

```output
Certainly! Sorting an array is a common task in programming, and Python provides several ways to do it. Below is a simple example using Python's built-in sorting functions. We'll use the `sorted()` function and the `sort()` method of a list.

### Using `sorted()` Function

The `sorted()` function returns a new sorted list from the elements of any iterable.

\`\`\`python
def sort_array(arr):
    return sorted(arr)

# Example usage
array = [5, 2, 9, 1, 5, 6]
sorted_array = sort_array(array)
print("Original array:", array)
print("Sorted array:", sorted_array)
\`\`\`

### Using `sort()` Method

The `sort()` method sorts the list in place and returns `None`.

\`\`\`python
def sort_array_in_place(arr):
    arr.sort()

# Example usage
array = [5, 2, 9, 1, 5, 6]
sort_array_in_place(array)
print("Sorted array:", array)
\`\`\`

### Custom Sorting

If you need to sort the array based on a custom key or in descending order, you can use the `key` and `reverse` parameters.

\`\`\`python
def custom_sort_array(arr):
    # Sort in descending order
    return sorted(arr, reverse=True)

# Example usage
array = [5, 2, 9, 1, 5, 6]
sorted_array_desc = custom_sort_array(array)
print("Sorted array in descending order:", sorted_array_desc)
\`\`\`

### Sorting with a Custom Key

Suppose you have a list of tuples and you want to sort them based on the second element of each tuple:

\`\`\`python
def sort_tuples_by_second_element(arr):
    return sorted(arr, key=lambda x: x[1])

# Example usage
tuples = [(1, 3), (4, 1), (5, 2), (2, 4)]
sorted_tuples = sort_tuples_by_second_element(tuples)
print("Sorted tuples by second element:", sorted_tuples)
\`\`\`

These examples demonstrate how to sort arrays in Python using different methods and options. Choose the one that best fits your needs!
```

## API reference

자세한 내용은 [modelscope.cn/docs/model-service/API-Inference/intro](https://modelscope.cn/docs/model-service/API-Inference/intro)를 참조하세요.

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/python/integrations/llms/modelscope_endpoint.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
