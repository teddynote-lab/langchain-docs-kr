---
title: Google Drive
---

>[Google Drive](https://en.wikipedia.org/wiki/Google_Drive)ëŠ” Googleì—ì„œ ê°œë°œí•œ íŒŒì¼ ì €ì¥ ë° ë™ê¸°í™” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

ì´ ë…¸íŠ¸ë¶ì€ `Google Drive`ì—ì„œ ë¬¸ì„œë¥¼ ë¡œë“œí•˜ëŠ” ë°©ë²•ì„ ë‹¤ë£¹ë‹ˆë‹¤. í˜„ì¬ëŠ” `Google Docs`ë§Œ ì§€ì›ë©ë‹ˆë‹¤.

## ì‚¬ì „ ìš”êµ¬ì‚¬í•­

1. Google Cloud í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
1. [Google Drive API](https://console.cloud.google.com/flows/enableapi?apiid=drive.googleapis.com)ë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤
1. [ë°ìŠ¤í¬í†± ì•±ìš© ìê²© ì¦ëª… ìŠ¹ì¸](https://developers.google.com/drive/api/quickstart/python#authorize_credentials_for_a_desktop_application)
1. `pip install -U google-api-python-client google-auth-httplib2 google-auth-oauthlib`

## ğŸ§‘ Google Docs ë°ì´í„° ìˆ˜ì§‘ ì§€ì¹¨

í™˜ê²½ ë³€ìˆ˜ `GOOGLE_APPLICATION_CREDENTIALS`ë¥¼ ë¹ˆ ë¬¸ìì—´(`""`)ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.

ê¸°ë³¸ì ìœ¼ë¡œ `GoogleDriveLoader`ëŠ” `credentials.json` íŒŒì¼ì´ `~/.credentials/credentials.json`ì— ìœ„ì¹˜í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒí•˜ì§€ë§Œ, `credentials_path` í‚¤ì›Œë“œ ì¸ìë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `token.json`ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤ - ê¸°ë³¸ ê²½ë¡œ: `~/.credentials/token.json`, ìƒì„±ì ë§¤ê°œë³€ìˆ˜: `token_path`.

GoogleDriveLoaderë¥¼ ì²˜ìŒ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©ì ì¸ì¦ì„ ìœ„í•´ ë¸Œë¼ìš°ì €ì— ë™ì˜ í™”ë©´ì´ í‘œì‹œë©ë‹ˆë‹¤. ì¸ì¦ í›„ `token.json`ì´ ì œê³µëœ ê²½ë¡œ ë˜ëŠ” ê¸°ë³¸ ê²½ë¡œì— ìë™ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤. ë˜í•œ í•´ë‹¹ ê²½ë¡œì— ì´ë¯¸ `token.json`ì´ ìˆëŠ” ê²½ìš° ì¸ì¦ì„ ìš”ì²­í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

`GoogleDriveLoader`ëŠ” Google Docs ë¬¸ì„œ ID ëª©ë¡ ë˜ëŠ” í´ë” IDì—ì„œ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. URLì—ì„œ í´ë” ë° ë¬¸ì„œ IDë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* í´ë”: [drive.google.com/drive/u/0/folders/1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5](https://drive.google.com/drive/u/0/folders/1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5) -> í´ë” IDëŠ” `"1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5"`
* ë¬¸ì„œ: [docs.google.com/document/d/1bfaMQ18_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw/edit](https://docs.google.com/document/d/1bfaMQ18_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw/edit) -> ë¬¸ì„œ IDëŠ” `"1bfaMQ18_i56204VaQDVeAFpqEijJTgvurupdEDiaUQw"`

```python
pip install -qU langchain-google-community[drive]
```

```python
from langchain_google_community import GoogleDriveLoader
```

```python
loader = GoogleDriveLoader(
    folder_id="1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5",
    token_path="/path/where/you/want/token/to/be/created/google_token.json",
    # Optional: configure whether to recursively fetch files from subfolders. Defaults to False.
    recursive=False,
)
```

```python
docs = loader.load()
```

`folder_id`ë¥¼ ì „ë‹¬í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ document, sheet ë° pdf íƒ€ì…ì˜ ëª¨ë“  íŒŒì¼ì´ ë¡œë“œë©ë‹ˆë‹¤. `file_types` ì¸ìë¥¼ ì „ë‹¬í•˜ì—¬ ì´ ë™ì‘ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

```python
loader = GoogleDriveLoader(
    folder_id="1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5",
    file_types=["document", "sheet"],
    recursive=False,
)
```

## ì„ íƒì  File Loader ì „ë‹¬í•˜ê¸°

Google Docs ë° Google Sheets ì´ì™¸ì˜ íŒŒì¼ì„ ì²˜ë¦¬í•  ë•Œ `GoogleDriveLoader`ì— ì„ íƒì  file loaderë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. file loaderë¥¼ ì „ë‹¬í•˜ë©´ Google Docs ë˜ëŠ” Google Sheets MIME íƒ€ì…ì´ ì—†ëŠ” ë¬¸ì„œì— í•´ë‹¹ file loaderê°€ ì‚¬ìš©ë©ë‹ˆë‹¤. ë‹¤ìŒì€ file loaderë¥¼ ì‚¬ìš©í•˜ì—¬ Google Driveì—ì„œ Excel ë¬¸ì„œë¥¼ ë¡œë“œí•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.

```python
from langchain_community.document_loaders import UnstructuredFileIOLoader
from langchain_google_community import GoogleDriveLoader
```

```python
file_id = "1x9WBtFPWMEAdjcJzPScRsjpjQvpSo_kz"
loader = GoogleDriveLoader(
    file_ids=[file_id],
    file_loader_cls=UnstructuredFileIOLoader,
    file_loader_kwargs={"mode": "elements"},
)
```

```python
docs = loader.load()
```

```python
docs[0]
```

ë‹¤ìŒ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ê³¼ Google Docs/Sheetsê°€ í˜¼í•©ëœ í´ë”ë¥¼ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤:

```python
folder_id = "1asMOHY1BqBS84JcRbOag5LOJac74gpmD"
loader = GoogleDriveLoader(
    folder_id=folder_id,
    file_loader_cls=UnstructuredFileIOLoader,
    file_loader_kwargs={"mode": "elements"},
)
```

```python
docs = loader.load()
```

```python
docs[0]
```

```python
```

## í™•ì¥ ì‚¬ìš©ë²•

ì™¸ë¶€(ë¹„ê³µì‹) ì»´í¬ë„ŒíŠ¸ê°€ Google Driveì˜ ë³µì¡ì„±ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤: `langchain-googledrive`
ì´ê²ƒì€ `langchain_community.document_loaders.GoogleDriveLoader`ì™€ í˜¸í™˜ë˜ë©° ëŒ€ì‹  ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì»¨í…Œì´ë„ˆì™€ í˜¸í™˜ë˜ë„ë¡ ì¸ì¦ì€ í™˜ê²½ ë³€ìˆ˜ `GOOGLE_ACCOUNT_FILE`ì„ ì‚¬ìš©í•˜ì—¬ ìê²© ì¦ëª… íŒŒì¼(ì‚¬ìš©ì ë˜ëŠ” ì„œë¹„ìŠ¤ìš©)ì„ ì§€ì •í•©ë‹ˆë‹¤.

```python
pip install -qU  langchain-googledrive
```

```python
folder_id = "root"
# folder_id='1yucgL9WGgWZdM1TOuKkeghlPizuzMYb5'
```

```python
# Use the advanced version.
from langchain_googledrive.document_loaders import GoogleDriveLoader
```

```python
loader = GoogleDriveLoader(
    folder_id=folder_id,
    recursive=False,
    num_results=2,  # Maximum number of file to load
)
```

ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ìŒ mime-typeì„ ê°€ì§„ ëª¨ë“  íŒŒì¼ì„ `Document`ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
* text/text
* text/plain
* text/html
* text/csv
* text/markdown
* image/png
* image/jpeg
* application/epub+zip
* application/pdf
* application/rtf
* application/vnd.google-apps.document (GDoc)
* application/vnd.google-apps.presentation (GSlide)
* application/vnd.google-apps.spreadsheet (GSheet)
* application/vnd.google.colaboratory (Notebook colab)
* application/vnd.openxmlformats-officedocument.presentationml.presentation (PPTX)
* application/vnd.openxmlformats-officedocument.wordprocessingml.document (DOCX)

ì´ë¥¼ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `GDriveLoader`ì˜ ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

ë‹¨, í•´ë‹¹ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

```python
pip install -qU  unstructured
```

```python
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

### ì¸ì¦ Identity ë¡œë“œí•˜ê¸°

Google Drive Loaderì—ì„œ ìˆ˜ì§‘í•œ ê° íŒŒì¼ì— ëŒ€í•œ ìŠ¹ì¸ëœ identityë¥¼ Documentë³„ metadataì™€ í•¨ê»˜ ë¡œë“œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from langchain_google_community import GoogleDriveLoader

loader = GoogleDriveLoader(
    folder_id=folder_id,
    load_auth=True,
    # Optional: configure whether to load authorized identities for each Document.
)

doc = loader.load()
```

load_auth=Trueë¥¼ ì „ë‹¬í•˜ì—¬ Google Drive ë¬¸ì„œ ì•¡ì„¸ìŠ¤ identityë¥¼ metadataì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
doc[0].metadata
```

### í™•ì¥ metadata ë¡œë“œí•˜ê¸°

ê° Documentì˜ metadata ë‚´ì—ì„œ ë‹¤ìŒ ì¶”ê°€ í•„ë“œë„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

* full_path - Google Driveì—ì„œ íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œ
* owner - íŒŒì¼ì˜ ì†Œìœ ì
* size - íŒŒì¼ì˜ í¬ê¸°

```python
from langchain_google_community import GoogleDriveLoader

loader = GoogleDriveLoader(
    folder_id=folder_id,
    load_extended_matadata=True,
    # Optional: configure whether to load extended metadata for each Document.
)

doc = loader.load()
```

load_extended_matadata=Trueë¥¼ ì „ë‹¬í•˜ì—¬ Google Drive ë¬¸ì„œì˜ í™•ì¥ ì„¸ë¶€ ì •ë³´ë¥¼ metadataì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
doc[0].metadata
```

### ê²€ìƒ‰ íŒ¨í„´ ì‚¬ìš©ì ì •ì˜í•˜ê¸°

Google [`list()`](https://developers.google.com/drive/api/v3/reference/files/list)
APIì™€ í˜¸í™˜ë˜ëŠ” ëª¨ë“  ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Google ìš”ì²­ì˜ ìƒˆë¡œìš´ íŒ¨í„´ì„ ì§€ì •í•˜ë ¤ë©´ `PromptTemplate()`ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í”„ë¡¬í”„íŠ¸ì˜ ë³€ìˆ˜ëŠ” ìƒì„±ìì—ì„œ `kwargs`ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì¼ë¶€ ì‚¬ì „ í˜•ì‹í™”ëœ ìš”ì²­ì´ ì œì•ˆë©ë‹ˆë‹¤(`{query}`, `{folder_id}` ë°/ë˜ëŠ” `{mime_type}` ì‚¬ìš©):

íŒŒì¼ì„ ì„ íƒí•˜ëŠ” ê¸°ì¤€ì„ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¯¸ë¦¬ ì •ì˜ëœ í•„í„° ì„¸íŠ¸ê°€ ì œì•ˆë©ë‹ˆë‹¤:

| template                               | description                                                           |
| -------------------------------------- | --------------------------------------------------------------------- |
| gdrive-all-in-folder                   | `folder_id`ì—ì„œ ëª¨ë“  í˜¸í™˜ íŒŒì¼ ë°˜í™˜                                    |
| gdrive-query                           | ëª¨ë“  ë“œë¼ì´ë¸Œì—ì„œ `query` ê²€ìƒ‰                                         |
| gdrive-by-name                         | ì´ë¦„ì´ `query`ì¸ íŒŒì¼ ê²€ìƒ‰                                            |
| gdrive-query-in-folder                 | `folder_id`ì—ì„œ `query` ê²€ìƒ‰ (`recursive=true`ì¸ ê²½ìš° í•˜ìœ„ í´ë” í¬í•¨) |
| gdrive-mime-type                       | íŠ¹ì • `mime_type` ê²€ìƒ‰                                                 |
| gdrive-mime-type-in-folder             | `folder_id`ì—ì„œ íŠ¹ì • `mime_type` ê²€ìƒ‰                                 |
| gdrive-query-with-mime-type            | íŠ¹ì • `mime_type`ìœ¼ë¡œ `query` ê²€ìƒ‰                                     |
| gdrive-query-with-mime-type-and-folder | íŠ¹ì • `mime_type`ê³¼ `folder_id`ì—ì„œ `query` ê²€ìƒ‰                       |

```python
loader = GoogleDriveLoader(
    folder_id=folder_id,
    recursive=False,
    template="gdrive-query",  # Default template to use
    query="machine learning",
    num_results=2,  # Maximum number of file to load
    supportsAllDrives=False,  # GDrive `list()` parameter
)
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

íŒ¨í„´ì„ ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```python
from langchain_core.prompts.prompt import PromptTemplate

loader = GoogleDriveLoader(
    folder_id=folder_id,
    recursive=False,
    template=PromptTemplate(
        input_variables=["query", "query_name"],
        template="fullText contains '{query}' and name contains '{query_name}' and trashed=false",
    ),  # Default template to use
    query="machine learning",
    query_name="ML",
    num_results=2,  # Maximum number of file to load
)
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

ë³€í™˜ì€ Markdown í˜•ì‹ìœ¼ë¡œ ë‹¤ìŒì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
* bullet
* link
* table
* titles

ë§í¬ë¥¼ ë‚´ë³´ë‚´ë ¤ë©´ `return_link` ì†ì„±ì„ `True`ë¡œ ì„¤ì •í•˜ì„¸ìš”.

#### GSlide ë° GSheetì˜ ëª¨ë“œ

ë§¤ê°œë³€ìˆ˜ modeëŠ” ë‹¤ì–‘í•œ ê°’ì„ í—ˆìš©í•©ë‹ˆë‹¤:

* "document": ê° ë¬¸ì„œì˜ ë³¸ë¬¸ ë°˜í™˜
* "snippets": ê° íŒŒì¼ì˜ ì„¤ëª… ë°˜í™˜ (Google Drive íŒŒì¼ì˜ metadataì— ì„¤ì •ë¨)

ë§¤ê°œë³€ìˆ˜ `gslide_mode`ëŠ” ë‹¤ì–‘í•œ ê°’ì„ í—ˆìš©í•©ë‹ˆë‹¤:

* "single" : &lt;PAGE BREAK&gt;ê°€ ìˆëŠ” í•˜ë‚˜ì˜ ë¬¸ì„œ
* "slide" : ìŠ¬ë¼ì´ë“œë‹¹ í•˜ë‚˜ì˜ ë¬¸ì„œ
* "elements" : ê° ìš”ì†Œì— ëŒ€í•´ í•˜ë‚˜ì˜ ë¬¸ì„œ

```python
loader = GoogleDriveLoader(
    template="gdrive-mime-type",
    mime_type="application/vnd.google-apps.presentation",  # Only GSlide files
    gslide_mode="slide",
    num_results=2,  # Maximum number of file to load
)
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

ë§¤ê°œë³€ìˆ˜ `gsheet_mode`ëŠ” ë‹¤ì–‘í•œ ê°’ì„ í—ˆìš©í•©ë‹ˆë‹¤:
* `"single"`: í–‰ë‹¹ í•˜ë‚˜ì˜ ë¬¸ì„œ ìƒì„±
* `"elements"` : markdown ë°°ì—´ê³¼ &lt;PAGE BREAK&gt; íƒœê·¸ê°€ ìˆëŠ” í•˜ë‚˜ì˜ ë¬¸ì„œ

```python
loader = GoogleDriveLoader(
    template="gdrive-mime-type",
    mime_type="application/vnd.google-apps.spreadsheet",  # Only GSheet files
    gsheet_mode="elements",
    num_results=2,  # Maximum number of file to load
)
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

### ê³ ê¸‰ ì‚¬ìš©ë²•

ëª¨ë“  Google Fileì€ metadataì— 'description'ì´ ìˆìŠµë‹ˆë‹¤. ì´ í•„ë“œëŠ” ë¬¸ì„œì˜ ìš”ì•½ì´ë‚˜ ë‹¤ë¥¸ ì¸ë±ì‹±ëœ íƒœê·¸ë¥¼ ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (`lazy_update_description_with_summary()` ë©”ì„œë“œ ì°¸ì¡°).

`mode="snippet"`ì„ ì‚¬ìš©í•˜ë©´ ë³¸ë¬¸ì— ì„¤ëª…ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ `metadata['summary']`ì— í•´ë‹¹ í•„ë“œê°€ ìˆìŠµë‹ˆë‹¤.

ë•Œë•Œë¡œ íŒŒì¼ ì´ë¦„ì—ì„œ ì¼ë¶€ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê±°ë‚˜ íŠ¹ì • ê¸°ì¤€ìœ¼ë¡œ ì¼ë¶€ íŒŒì¼ì„ ì„ íƒí•˜ê¸° ìœ„í•´ íŠ¹ì • í•„í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•„í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë•Œë•Œë¡œ ë§ì€ ë¬¸ì„œê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ëª¨ë“  ë¬¸ì„œë¥¼ ë™ì‹œì— ë©”ëª¨ë¦¬ì— ë³´ê´€í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. ë©”ì„œë“œì˜ lazy ë²„ì „ì„ ì‚¬ìš©í•˜ì—¬ í•œ ë²ˆì— í•˜ë‚˜ì˜ ë¬¸ì„œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¬ê·€ ê²€ìƒ‰ ëŒ€ì‹  ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. `recursive=True`ë¥¼ í™œì„±í™”í•˜ë©´ ê° í´ë”ì— ëŒ€í•´ ì¿¼ë¦¬ë¥¼ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

```python
import os

loader = GoogleDriveLoader(
    gdrive_api_file=os.environ["GOOGLE_ACCOUNT_FILE"],
    num_results=2,
    template="gdrive-query",
    filter=lambda search, file: "#test" not in file.get("description", ""),
    query="machine learning",
    supportsAllDrives=False,
)
for doc in loader.load():
    print("---")
    print(doc.page_content.strip()[:60] + "...")
```

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/python/integrations/document_loaders/google_drive.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
