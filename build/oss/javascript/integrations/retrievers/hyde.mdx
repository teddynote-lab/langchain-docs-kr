---
title: HyDE Retriever
---

이 예제는 [이 논문](https://arxiv.org/abs/2212.10496)에 설명된 Hypothetical Document Embeddings (HyDE)를 구현한 HyDE Retriever를 사용하는 방법을 보여줍니다.

높은 수준에서 보면, HyDE는 쿼리를 받아 가상의 답변을 생성한 다음, 생성된 문서를 임베딩하고 이를 최종 예제로 사용하는 임베딩 기법입니다.

따라서 HyDE를 사용하려면 기본 embedding model과 해당 문서를 생성하는 데 사용할 수 있는 LLM을 제공해야 합니다. 기본적으로 HyDE class에는 사용할 수 있는 기본 prompt가 포함되어 있지만(자세한 내용은 논문 참조), 단일 입력 변수 `{question}`을 가진 자체 prompt를 만들 수도 있습니다.

## 사용법

```typescript
import { OpenAI, OpenAIEmbeddings } from "@langchain/openai";
import { MemoryVectorStore } from "@langchain/classic/vectorstores/memory";
import { HydeRetriever } from "@langchain/classic/retrievers/hyde";
import { Document } from "@langchain/core/documents";

const embeddings = new OpenAIEmbeddings();
const vectorStore = new MemoryVectorStore(embeddings);
const llm = new OpenAI();
const retriever = new HydeRetriever({
  vectorStore,
  llm,
  k: 1,
});

await vectorStore.addDocuments(
  [
    "My name is John.",
    "My name is Bob.",
    "My favourite food is pizza.",
    "My favourite food is pasta.",
  ].map((pageContent) => new Document({ pageContent }))
);

const results = await retriever.invoke("What is my favourite food?");

console.log(results);
/*
[
  Document { pageContent: 'My favourite food is pasta.', metadata: {} }
]
*/
```

## 관련 문서

- [Retrieval 가이드](/oss/javascript/langchain/retrieval)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/retrievers/hyde.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
