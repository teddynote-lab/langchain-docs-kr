---
title: Vespa Retriever
---

이 문서는 Vespa.ai를 LangChain retriever로 사용하는 방법을 보여줍니다.
Vespa.ai는 고효율 구조화된 텍스트 및 벡터 검색을 위한 플랫폼입니다.
자세한 내용은 [Vespa.ai](https://vespa.ai)를 참조하세요.

다음은 Vespa의 문서 검색에서 결과를 가져오는 retriever를 설정합니다:

```typescript
import { VespaRetriever } from "@langchain/community/retrievers/vespa";

export const run = async () => {
  const url = "https://doc-search.vespa.oath.cloud";
  const query_body = {
    yql: "select content from paragraph where userQuery()",
    hits: 5,
    ranking: "documentation",
    locale: "en-us",
  };
  const content_field = "content";

  const retriever = new VespaRetriever({
    url,
    auth: false,
    query_body,
    content_field,
  });

  const result = await retriever.invoke("what is vespa?");
  console.log(result);
};
```

여기서 최대 5개의 결과가 `paragraph` document type의 `content` field에서 검색되며,
`documentation`을 ranking 방법으로 사용합니다. `userQuery()`는 LangChain에서 전달된 실제 쿼리로 대체됩니다.

자세한 내용은 [pyvespa documentation](https://pyvespa.readthedocs.io/en/latest/getting-started-pyvespa.html#Query)을 참조하세요.

URL은 Vespa application의 endpoint입니다.
원격 서비스나 Docker를 사용하는 로컬 인스턴스 등 모든 Vespa endpoint에 연결할 수 있습니다.
그러나 대부분의 Vespa Cloud 인스턴스는 mTLS로 보호됩니다.
이 경우, 인스턴스에 연결하는 데 필요한 자격 증명을 포함하는 [CloudFlare Worker](https://cloud.vespa.ai/en/security/cloudflare-workers)를 설정할 수 있습니다.

이제 결과를 반환하고 LangChain에서 계속 사용할 수 있습니다.

## Related

- [Retrieval guide](/oss/javascript/langchain/retrieval)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/retrievers/vespa-retriever.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
