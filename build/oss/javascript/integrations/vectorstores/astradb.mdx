---
title: Astra DB
---

<Tip>
**호환성**

Node.js에서만 사용 가능합니다.
</Tip>

DataStax [Astra DB](https://astra.datastax.com/register)는 [Apache Cassandra](https://cassandra.apache.org/_/index.html)를 기반으로 구축된 서버리스 벡터 지원 데이터베이스로, 사용하기 쉬운 JSON API를 통해 편리하게 사용할 수 있습니다.

## Setup

1. [Astra DB 계정](https://astra.datastax.com/register)을 생성합니다.
2. [벡터 지원 데이터베이스](https://astra.datastax.com/createDatabase)를 생성합니다.
3. Database Details에서 `API Endpoint`와 `Token`을 가져옵니다.
4. 다음 환경 변수를 설정합니다:

```bash
export ASTRA_DB_APPLICATION_TOKEN=YOUR_ASTRA_DB_APPLICATION_TOKEN_HERE
export ASTRA_DB_ENDPOINT=YOUR_ASTRA_DB_ENDPOINT_HERE
export ASTRA_DB_COLLECTION=YOUR_ASTRA_DB_COLLECTION_HERE
export OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE
```

여기서 `ASTRA_DB_COLLECTION`은 원하는 collection 이름입니다

6. Astra TS Client와 LangChain community package를 설치합니다

<Tip>
LangChain package 설치에 대한 일반적인 지침은 [이 섹션](/oss/javascript/langchain/install)을 참조하세요.
</Tip>

```bash npm
npm install @langchain/openai @datastax/astra-db-ts @langchain/community @langchain/core
```
## 문서 인덱싱

```typescript
import { OpenAIEmbeddings } from "@langchain/openai";
import {
  AstraDBVectorStore,
  AstraLibArgs,
} from "@langchain/community/vectorstores/astradb";

const astraConfig: AstraLibArgs = {
  token: process.env.ASTRA_DB_APPLICATION_TOKEN as string,
  endpoint: process.env.ASTRA_DB_ENDPOINT as string,
  collection: process.env.ASTRA_DB_COLLECTION ?? "langchain_test",
  collectionOptions: {
    vector: {
      dimension: 1536,
      metric: "cosine",
    },
  },
};

const vectorStore = await AstraDBVectorStore.fromTexts(
  [
    "AstraDB is built on Apache Cassandra",
    "AstraDB is a NoSQL DB",
    "AstraDB supports vector search",
  ],
  [{ foo: "foo" }, { foo: "bar" }, { foo: "baz" }],
  new OpenAIEmbeddings(),
  astraConfig
);

// Querying docs:
const results = await vectorStore.similaritySearch("Cassandra", 1);

// or filtered query:
const filteredQueryResults = await vectorStore.similaritySearch("A", 1, {
  foo: "bar",
});
```

## Vector Types

Astra DB는 `cosine` (기본값), `dot_product`, `euclidean` 유사도 검색을 지원합니다. 이는 vector store가 처음 생성될 때 `CreateCollectionOptions`의 일부로 정의됩니다:

```typescript
  vector: {
      dimension: number;
      metric?: "cosine" | "euclidean" | "dot_product";
  };
```

## 관련 문서

- Vector store [개념 가이드](/oss/javascript/integrations/vectorstores)
- Vector store [사용 방법 가이드](/oss/javascript/integrations/vectorstores)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/vectorstores/astradb.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
