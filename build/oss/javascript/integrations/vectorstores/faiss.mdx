---
title: FaissStore
---

<Tip>
**호환성**: Node.js에서만 사용 가능합니다.
</Tip>

[Faiss](https://github.com/facebookresearch/faiss)는 밀집 벡터의 효율적인 유사도 검색 및 클러스터링을 위한 라이브러리입니다.

LangChain.js는 Faiss를 파일로 저장할 수 있는 로컬 실행 vectorstore로 사용하는 것을 지원합니다. 또한 [LangChain Python 구현](https://python.langchain.com/docs/integrations/vectorstores/faiss#saving-and-loading)에서 저장된 파일을 읽을 수 있는 기능도 제공합니다.

이 가이드는 Faiss [vector stores](/oss/javascript/integrations/vectorstores) 시작하기에 대한 간단한 개요를 제공합니다. 모든 `FaissStore` 기능 및 구성에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain_community_vectorstores_faiss.FaissStore.html)를 참조하세요.

## 개요

### Integration 세부 정보

| Class | Package | [PY support](https://python.langchain.com/docs/integrations/vectorstores/faiss) |  Version |
| :--- | :--- | :---: | :---: |
| [`FaissStore`](https://api.js.langchain.com/classes/langchain_community_vectorstores_faiss.FaissStore.html) | [`@langchain/community`](https://npmjs.com/@langchain/community) | ✅ |  ![NPM - Version](https://img.shields.io/npm/v/@langchain/community?style=flat-square&label=%20&) |

## 설정

Faiss vector stores를 사용하려면 `@langchain/community` integration package와 peer dependency로 [`faiss-node`](https://github.com/ewfian/faiss-node) package를 설치해야 합니다.

이 가이드는 [OpenAI embeddings](/oss/javascript/integrations/text_embedding/openai)도 사용하며, 이를 위해 `@langchain/openai` integration package를 설치해야 합니다. 원하는 경우 [다른 지원되는 embeddings models](/oss/javascript/integrations/text_embedding)을 사용할 수도 있습니다.

<CodeGroup>
```bash npm
npm install @langchain/community faiss-node @langchain/openai @langchain/core
```
```bash yarn
yarn add @langchain/community faiss-node @langchain/openai @langchain/core
```
```bash pnpm
pnpm add @langchain/community faiss-node @langchain/openai @langchain/core
```
</CodeGroup>

### 자격 증명

Faiss는 로컬에서 실행되므로 사용하기 위해 별도의 자격 증명이 필요하지 않습니다.

이 가이드에서 OpenAI embeddings를 사용하는 경우 OpenAI key도 설정해야 합니다:

```typescript
process.env.OPENAI_API_KEY = "YOUR_API_KEY";
```

모델 호출에 대한 자동 추적을 원하는 경우 아래 주석을 해제하여 [LangSmith](https://docs.smith.langchain.com/) API key를 설정할 수도 있습니다:

```typescript
// process.env.LANGSMITH_TRACING="true"
// process.env.LANGSMITH_API_KEY="your-api-key"
```

## 인스턴스화

```typescript
import { FaissStore } from "@langchain/community/vectorstores/faiss";
import { OpenAIEmbeddings } from "@langchain/openai";

const embeddings = new OpenAIEmbeddings({
  model: "text-embedding-3-small",
});

const vectorStore = new FaissStore(embeddings, {});
```

## Vector store 관리

### Vector store에 항목 추가

```typescript
import type { Document } from "@langchain/core/documents";

const document1: Document = {
  pageContent: "The powerhouse of the cell is the mitochondria",
  metadata: { source: "https://example.com" }
};

const document2: Document = {
  pageContent: "Buildings are made out of brick",
  metadata: { source: "https://example.com" }
};

const document3: Document = {
  pageContent: "Mitochondria are made out of lipids",
  metadata: { source: "https://example.com" }
};

const document4: Document = {
  pageContent: "The 2024 Olympics are in Paris",
  metadata: { source: "https://example.com" }
}

const documents = [document1, document2, document3, document4];

await vectorStore.addDocuments(documents, { ids: ["1", "2", "3", "4"] });
```

```output
[ '1', '2', '3', '4' ]
```

### Vector store에서 항목 삭제

```typescript
await vectorStore.delete({ ids: ["4"] });
```

## Vector store 쿼리

Vector store가 생성되고 관련 문서가 추가되면 chain 또는 agent 실행 중에 쿼리하고 싶을 것입니다.

### 직접 쿼리

간단한 유사도 검색은 다음과 같이 수행할 수 있습니다:

```typescript
const similaritySearchResults = await vectorStore.similaritySearch("biology", 2);

for (const doc of similaritySearchResults) {
  console.log(`* ${doc.pageContent} [${JSON.stringify(doc.metadata, null)}]`);
}
```

```output
* The powerhouse of the cell is the mitochondria [{"source":"https://example.com"}]
* Mitochondria are made out of lipids [{"source":"https://example.com"}]
```

메타데이터별 필터링은 현재 지원되지 않습니다.

유사도 검색을 실행하고 해당 점수를 받으려면 다음을 실행할 수 있습니다:

```typescript
const similaritySearchWithScoreResults = await vectorStore.similaritySearchWithScore("biology", 2);

for (const [doc, score] of similaritySearchWithScoreResults) {
  console.log(`* [SIM=${score.toFixed(3)}] ${doc.pageContent} [${JSON.stringify(doc.metadata)}]`);
}
```

```output
* [SIM=1.671] The powerhouse of the cell is the mitochondria [{"source":"https://example.com"}]
* [SIM=1.705] Mitochondria are made out of lipids [{"source":"https://example.com"}]
```

### Retriever로 변환하여 쿼리

Vector store를 [retriever](/oss/javascript/langchain/retrieval)로 변환하여 chain에서 더 쉽게 사용할 수도 있습니다.

```typescript
const retriever = vectorStore.asRetriever({
  k: 2,
});
await retriever.invoke("biology");
```

```output
[
  {
    pageContent: 'The powerhouse of the cell is the mitochondria',
    metadata: { source: 'https://example.com' }
  },
  {
    pageContent: 'Mitochondria are made out of lipids',
    metadata: { source: 'https://example.com' }
  }
]
```

### Retrieval-augmented generation 사용

이 vector store를 retrieval-augmented generation (RAG)에 사용하는 방법에 대한 가이드는 다음 섹션을 참조하세요:

- [LangChain으로 RAG 앱 구축하기](/oss/javascript/langchain/rag)
- [Agentic RAG](/oss/javascript/langgraph/agentic-rag)
- [Retrieval 문서](/oss/javascript/langchain/retrieval)

## Index 병합

Faiss는 기존 index 병합도 지원합니다:

```typescript
// Create an initial vector store
const initialStore = await FaissStore.fromTexts(
  ["Hello world", "Bye bye", "hello nice world"],
  [{ id: 2 }, { id: 1 }, { id: 3 }],
  new OpenAIEmbeddings()
);

// Create another vector store from texts
const newStore = await FaissStore.fromTexts(
  ["Some text"],
  [{ id: 1 }],
  new OpenAIEmbeddings()
);

// merge the first vector store into vectorStore2
await newStore.mergeFrom(initialStore);

// You can also create a new vector store from another FaissStore index
const newStore2 = await FaissStore.fromIndex(
  newStore,
  new OpenAIEmbeddings()
);

await newStore2.similaritySearch("Bye bye", 1);
```

## Index를 파일로 저장하고 다시 로드하기

Index를 디스크에 저장하려면 `.save` 및 정적 `.load` 메서드를 사용하세요:

```typescript
// Create a vector store through any method, here from texts as an example
const persistentStore = await FaissStore.fromTexts(
  ["Hello world", "Bye bye", "hello nice world"],
  [{ id: 2 }, { id: 1 }, { id: 3 }],
  new OpenAIEmbeddings()
);

// Save the vector store to a directory
const directory = "your/directory/here";

await persistentStore.save(directory);

// Load the vector store from the same directory
const loadedVectorStore = await FaissStore.load(
  directory,
  new OpenAIEmbeddings()
);

// vectorStore and loadedVectorStore are identical
const result = await loadedVectorStore.similaritySearch("hello world", 1);
console.log(result);
```

## Python에서 저장된 파일 읽기

[LangChain Python 구현](https://python.langchain.com/docs/integrations/vectorstores/faiss#saving-and-loading)에서 저장된 파일을 읽을 수 있도록 하려면 [`pickleparser`](https://github.com/ewfian/pickleparser) package를 설치해야 합니다.


<CodeGroup>
```bash npm
npm install pickleparser
```
```bash yarn
yarn add pickleparser
```
```bash pnpm
pnpm add pickleparser
```
</CodeGroup>


그런 다음 `.loadFromPython` 정적 메서드를 사용할 수 있습니다:

```typescript
// The directory of data saved from Python
const directoryWithSavedPythonStore = "your/directory/here";

// Load the vector store from the directory
const pythonLoadedStore = await FaissStore.loadFromPython(
  directoryWithSavedPythonStore,
  new OpenAIEmbeddings()
);

// Search for the most similar document
await pythonLoadedStore.similaritySearch("test", 2);
```

## API reference

모든 `FaissStore` 기능 및 구성에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain_community_vectorstores_faiss.FaissStore.html)를 참조하세요

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/vectorstores/faiss.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
