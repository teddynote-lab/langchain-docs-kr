---
title: DeepInfra Embeddings
---

`DeepInfraEmbeddings` 클래스는 DeepInfra API를 활용하여 주어진 텍스트 입력에 대한 embedding을 생성합니다. 이 가이드는 `DeepInfraEmbeddings` 클래스의 설정 및 사용 방법을 안내하여 프로젝트에 원활하게 통합할 수 있도록 도와줍니다.

## Installation

아래와 같이 `@langchain/community` 패키지를 설치하세요:

<Tip>
LangChain 패키지 설치에 대한 일반적인 지침은 [이 섹션](/oss/javascript/langchain/install)을 참조하세요.
</Tip>

```bash npm
npm i @langchain/community @langchain/core
```
## Initialization

이 통합을 통해 DeepInfra embeddings 모델을 사용하여 텍스트 데이터에 대한 embedding을 얻을 수 있습니다. embeddings 모델에 대한 [링크](https://deepinfra.com/models/embeddings)는 여기에 있습니다.

먼저 DeepInfra 웹사이트에 가입하고 [여기](https://deepinfra.com/dash/api_keys)에서 API 토큰을 받아야 합니다. 모델 카드에서 이름을 복사하여 코드에서 바로 사용할 수 있습니다.

`DeepInfraEmbeddings` 클래스를 사용하려면 DeepInfra의 API 토큰이 필요합니다. 이 토큰을 생성자에 직접 전달하거나 환경 변수(`DEEPINFRA_API_TOKEN`)로 설정할 수 있습니다.

### Basic Usage

다음은 `DeepInfraEmbeddings` 인스턴스를 생성하는 방법입니다:

```typescript
import { DeepInfraEmbeddings } from "@langchain/community/embeddings/deepinfra";

const embeddings = new DeepInfraEmbeddings({
  apiToken: "YOUR_API_TOKEN",
  modelName: "sentence-transformers/clip-ViT-B-32", // Optional, defaults to "sentence-transformers/clip-ViT-B-32"
  batchSize: 1024, // Optional, defaults to 1024
});
```
`apiToken`이 제공되지 않으면 `DEEPINFRA_API_TOKEN` 환경 변수에서 읽어옵니다.

## Generating Embeddings

### Embedding a Single Query

단일 텍스트 쿼리에 대한 embedding을 생성하려면 `embedQuery` 메서드를 사용하세요:

```typescript
const embedding = await embeddings.embedQuery(
  "What would be a good company name for a company that makes colorful socks?"
);
console.log(embedding);
```
### Embedding Multiple Documents

여러 문서에 대한 embedding을 생성하려면 `embedDocuments` 메서드를 사용하세요. 이 메서드는 `batchSize` 매개변수를 기반으로 자동으로 배치 처리를 수행합니다:

```typescript
const documents = [
  "Document 1 text...",
  "Document 2 text...",
  "Document 3 text...",
];

const embeddingsArray = await embeddings.embedDocuments(documents);
console.log(embeddingsArray);
```
## Customizing Requests

`configuration` 매개변수를 전달하여 SDK가 요청을 보내는 base URL을 사용자 정의할 수 있습니다:

```typescript
const customEmbeddings = new DeepInfraEmbeddings({
  apiToken: "YOUR_API_TOKEN",
  configuration: {
    baseURL: "https://your_custom_url.com",
  },
});
```
이를 통해 필요한 경우 사용자 정의 endpoint를 통해 요청을 라우팅할 수 있습니다.

## Error Handling

API 토큰이 제공되지 않고 환경 변수에서도 찾을 수 없는 경우 오류가 발생합니다:

```typescript
try {
  const embeddings = new DeepInfraEmbeddings();
} catch (error) {
  console.error("DeepInfra API token not found");
}
```
## Example

다음은 `DeepInfraEmbeddings` 클래스를 설정하고 사용하는 전체 예제입니다:

```typescript
import { DeepInfraEmbeddings } from "@langchain/community/embeddings/deepinfra";

const embeddings = new DeepInfraEmbeddings({
  apiToken: "YOUR_API_TOKEN",
  modelName: "sentence-transformers/clip-ViT-B-32",
  batchSize: 512,
});

async function runExample() {
  const queryEmbedding = await embeddings.embedQuery("Example query text.");
  console.log("Query Embedding:", queryEmbedding);

  const documents = ["Text 1", "Text 2", "Text 3"];
  const documentEmbeddings = await embeddings.embedDocuments(documents);
  console.log("Document Embeddings:", documentEmbeddings);
}

runExample();
```

## Feedback and Support

피드백이나 질문이 있으시면 [feedback@deepinfra.com](mailto:feedback@deepinfra.com)으로 문의하세요.

## Related

- Embedding model [개념 가이드](/oss/javascript/integrations/text_embedding)
- Embedding model [사용 방법 가이드](/oss/javascript/integrations/text_embedding)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/text_embedding/deepinfra.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
