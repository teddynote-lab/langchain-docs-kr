---
title: Bedrock
---

# Bedrock



<Warning>
**현재 Amazon Bedrock 모델을 text completion 모델로 사용하는 방법을 설명하는 페이지를 보고 계십니다. Bedrock에서 사용 가능한 많은 인기 모델은 [chat completion 모델](/oss/javascript/langchain/models)입니다.**


[이 페이지](/oss/javascript/integrations/chat/bedrock/)를 찾고 계실 수 있습니다.
</Warning>


> [Amazon Bedrock](https://aws.amazon.com/bedrock/)은 주요 AI 스타트업과 Amazon의 Foundation Models(FMs)를 API를 통해 제공하는 완전 관리형 서비스입니다. 다양한 FM 중에서 사용 사례에 가장 적합한 모델을 선택할 수 있습니다.

이 문서는 LangChain을 사용하여 Bedrock completion 모델(LLMs)을 시작하는 데 도움을 드립니다. `Bedrock` 기능 및 구성 옵션에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain_community_llms_bedrock.Bedrock.html)를 참조하세요.

## Overview

### Integration details

| Class | Package | Local | Serializable | [PY support](https://python.langchain.com/docs/integrations/llms/bedrock) | Downloads | Version |
| :--- | :--- | :---: | :---: |  :---: | :---: | :---: |
| [Bedrock](https://api.js.langchain.com/classes/langchain_community_llms_bedrock.Bedrock.html) | [@langchain/community](https://api.js.langchain.com/modules/langchain_community_llms_bedrock.html) | ❌ | ✅ | ✅ | ![NPM - Downloads](https://img.shields.io/npm/dm/@langchain/community?style=flat-square&label=%20&) | ![NPM - Version](https://img.shields.io/npm/v/@langchain/community?style=flat-square&label=%20&) |

## Setup

Bedrock 모델에 액세스하려면 AWS 계정을 생성하고 API 키를 받은 다음 `@langchain/community` integration과 몇 가지 peer dependencies를 설치해야 합니다.

### Credentials

[aws.amazon.com](https://aws.amazon.com)으로 이동하여 AWS Bedrock에 가입하고 API 키를 생성하세요. 완료한 후 환경 변수를 설정하세요:

```bash
export BEDROCK_AWS_REGION="your-region-url"
export BEDROCK_AWS_ACCESS_KEY_ID="your-access-key-id"
export BEDROCK_AWS_SECRET_ACCESS_KEY="your-secret-access-key"
```

모델 호출에 대한 자동 추적을 원하시면 아래 주석을 해제하여 [LangSmith](https://docs.smith.langchain.com/) API 키를 설정할 수도 있습니다:

```bash
# export LANGSMITH_TRACING="true"
# export LANGSMITH_API_KEY="your-api-key"
```

### Installation

LangChain Bedrock integration은 `@langchain/community` 패키지에 있습니다:

<CodeGroup>
```bash npm
npm install @langchain/community @langchain/core
```
```bash yarn
yarn add @langchain/community @langchain/core
```
```bash pnpm
pnpm add @langchain/community @langchain/core
```
</CodeGroup>

그리고 peer dependencies를 설치하세요:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
</CodeGroup>

`@aws-sdk/credential-provider-node` dependency를 생략하고 `web` entrypoint를 사용하여 Edge functions 또는 Cloudflare Workers와 같은 웹 환경에서도 Bedrock을 사용할 수 있습니다:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @langchain/community @langchain/core
```
```bash yarn
yarn add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @langchain/community @langchain/core
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @langchain/community @langchain/core
```
</CodeGroup>

그리고 peer dependencies를 설치하세요:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
</CodeGroup>

`@aws-sdk/credential-provider-node` dependency를 생략하고 `web` entrypoint를 사용하여 Edge functions 또는 Cloudflare Workers와 같은 웹 환경에서도 Bedrock을 사용할 수 있습니다:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @langchain/community @langchain/core
```
```bash yarn
yarn add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @langchain/community @langchain/core
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @langchain/community @langchain/core
```
</CodeGroup>

그리고 peer dependencies를 설치하세요:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @aws-sdk/credential-provider-node @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
</CodeGroup>

`@aws-sdk/credential-provider-node` dependency를 생략하고 `web` entrypoint를 사용하여 Edge functions 또는 Cloudflare Workers와 같은 웹 환경에서도 Bedrock을 사용할 수 있습니다:

<CodeGroup>
```bash npm
npm install @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash yarn
yarn add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
```bash pnpm
pnpm add @aws-crypto/sha256-js @smithy/protocol-http @smithy/signature-v4 @smithy/eventstream-codec @smithy/util-utf8 @aws-sdk/types
```
</CodeGroup>


## Instantiation

이제 모델 객체를 인스턴스화하고 chat completions를 생성할 수 있습니다:

```typescript
// @lc-docs-hide-cell
// Deno requires these imports, and way of loading env vars.
// we don't want to expose in the docs.
// Below this cell we have a typescript markdown codeblock with
// the node code.
import "@aws-sdk/credential-provider-node";
import "@smithy/protocol-http";
import "@aws-crypto/sha256-js";
import "@smithy/protocol-http";
import "@smithy/signature-v4";
import "@smithy/eventstream-codec";
import "@smithy/util-utf8";
import "@aws-sdk/types";
import { Bedrock } from "@langchain/community/llms/bedrock"
import { getEnvironmentVariable } from "@langchain/core/utils/env";

const llm = new Bedrock({
  model: "anthropic.claude-v2",
  region: "us-east-1",
  // endpointUrl: "custom.amazonaws.com",
  credentials: {
    accessKeyId: getEnvironmentVariable("BEDROCK_AWS_ACCESS_KEY_ID"),
    secretAccessKey: getEnvironmentVariable("BEDROCK_AWS_SECRET_ACCESS_KEY"),
  },
  temperature: 0,
  maxTokens: undefined,
  maxRetries: 2,
  // other params...
})
```

```typescript
import { Bedrock } from "@langchain/community/llms/bedrock"

const llm = new Bedrock({
  model: "anthropic.claude-v2",
  region: process.env.BEDROCK_AWS_REGION ?? "us-east-1",
  // endpointUrl: "custom.amazonaws.com",
  credentials: {
    accessKeyId: process.env.BEDROCK_AWS_ACCESS_KEY_ID,
    secretAccessKey: process.env.BEDROCK_AWS_SECRET_ACCESS_KEY,
  },
  temperature: 0,
  maxTokens: undefined,
  maxRetries: 2,
  // other params...
})
```

## Invocation

일부 모델은 특정 프롬프팅 기법이 필요합니다. 예를 들어, Anthropic의 Claude-v2 모델은 프롬프트가 `Human:`으로 시작하지 않으면 오류를 발생시킵니다.

```typescript
const inputText = "Human: Bedrock is an AI company that\nAssistant: "

const completion = await llm.invoke(inputText)
completion
```

```output
" Here are a few key points about Bedrock AI:\n" +
  "\n" +
  "- Bedrock was founded in 2021 and is based in San Fran"... 116 more characters
```

## API reference

모든 Bedrock 기능 및 구성에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain_community_llms_bedrock.Bedrock.html)를 참조하세요.

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/oss/javascript/integrations/llms/bedrock.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
