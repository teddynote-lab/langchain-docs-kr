---
title: "CI 구성"
description: "Open SWE를 위한 CI 파이프라인 구성 방법"
---

## 마지막 커밋까지 CI 건너뛰기

Open SWE는 저장소에 변경 사항이 있을 때마다 커밋을 푸시합니다. 이로 인해 GitHub CI 워크플로우가 모든 커밋에 대해 실행되는데, 이는 불필요합니다.

이를 방지하기 위해 Open SWE는 커밋 메시지에 `[skip ci]`를 추가하는 환경 변수를 지원합니다. 이를 사용하여 GitHub가 해당 커밋에 대한 CI를 건너뛰도록 할 수 있습니다.

아래는 모든 커밋에서 Vercel CI 미리보기 배포 생성을 건너뛰는 방법을 보여주는 지침입니다:

<Steps>
  <Step title="환경 변수 설정">
    Open SWE의 환경 변수에서 `SKIP_CI_UNTIL_LAST_COMMIT` 환경 변수를 `true`로 설정합니다:

    `apps/open-swe/.env`
    ```bash
    SKIP_CI_UNTIL_LAST_COMMIT="true"
    ```

  </Step>

  <Step title="Vercel에서 커스텀 'Ignored Build Step' 추가">
    커밋 메시지에 `[skip ci]` 문자열이 포함된 경우 CI를 건너뛰도록 Vercel에서 커스텀 'Ignored Build Step'을 추가합니다.

    1. Vercel 프로젝트 대시보드로 이동합니다
    2. **Settings** → **Git** 탭으로 이동합니다
    3. **Ignored Build Step** 섹션으로 스크롤합니다
    4. **Custom**을 선택하고 다음 스크립트를 추가합니다:

    ![Vercel Custom Build Step Screenshot](/images/vercel_ignored_build_script_screenshot.png)

    ```bash
    git log -1 --pretty=oneline --abbrev-commit | grep -w "\[skip ci\]" && exit 0 || exit 1
    ```

    <Callout type="warning">
      **이 명령을 로컬에서 테스트하지 마세요**. 터미널이 닫힐 수 있습니다. 대신 아래의 테스트 방법을 사용하세요.
    </Callout>

  </Step>

  <Step title="구성 테스트 (선택사항)">
    터미널을 닫지 않고 설정이 작동하는지 확인하려면 다음의 안전한 테스트 명령을 사용하세요:

    ```bash
    # Safe local testing - won't close your terminal
    if git log -1 --pretty=oneline --abbrev-commit | grep -w "\[skip ci\]"; then
        echo "Found [skip ci] - Vercel would skip this build"
    else
        echo "No [skip ci] found - Vercel would proceed with build"
    fi
    ```

    두 가지 유형의 커밋으로 테스트합니다:
    - `[skip ci]`가 포함된 커밋은 "Vercel would skip this build"를 표시해야 합니다
    - `[skip ci]`가 없는 커밋은 "Vercel would proceed with build"를 표시해야 합니다

  </Step>
</Steps>

### 작동 방식

1. **작업 실행 중**: Open SWE는 커밋 메시지에 `[skip ci]`를 포함합니다
2. **Vercel 동작**: 이러한 커밋에 대한 미리보기 배포 생성을 건너뜁니다 (스크립트가 코드 1로 종료)
3. **작업 완료**: Open SWE는 배포를 트리거하기 위해 `[skip ci]` 없이 최종 커밋을 푸시합니다 (스크립트가 코드 0으로 종료)
4. **결과**: Open SWE 작업당 하나의 미리보기 배포만 생성됩니다

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/labs/swe/setup/ci.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
