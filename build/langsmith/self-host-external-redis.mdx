---
title: 외부 Redis 데이터베이스에 연결하기
sidebarTitle: 외부 Redis 데이터베이스에 연결하기
---

LangSmith는 큐잉/캐싱 작업을 지원하기 위해 Redis를 사용합니다. 기본적으로 LangSmith Self-Hosted는 내부 Redis 인스턴스를 사용합니다. 하지만 LangSmith를 외부 Redis 인스턴스를 사용하도록 구성할 수 있습니다. 외부 Redis 인스턴스를 구성하면 Redis 인스턴스의 백업, 확장 및 기타 운영 작업을 더 쉽게 관리할 수 있습니다.

## 요구사항

* LangSmith 인스턴스가 네트워크로 액세스할 수 있는 프로비저닝된 Redis 인스턴스. 다음과 같은 관리형 Redis 서비스를 사용하는 것을 권장합니다:

  * [Amazon ElastiCache](https://aws.amazon.com/elasticache/redis/)
  * [Google Cloud Memorystore](https://cloud.google.com/memorystore)
  * [Azure Cache for Redis](https://azure.microsoft.com/en-us/services/cache/)

* 참고: Redis 버전 >= 5만 공식적으로 지원합니다.

* Redis Cluster는 지원하지 않습니다.

* 기본적으로 최소 2개의 vCPU와 8GB의 메모리를 가진 인스턴스를 권장합니다. 하지만 실제 요구사항은 추적 워크로드에 따라 달라집니다. Redis 인스턴스를 모니터링하고 필요에 따라 확장하는 것을 권장합니다.

<Info>
관리형 Redis 서비스의 특정 티어는 내부적으로 Redis Cluster를 사용할 수 있지만, 클러스터의 단일 노드를 가리킬 수 있습니다. 예를 들어 Azure Cache for Redis에서 `Premium` 티어 이상은 Redis Cluster를 사용하므로 더 낮은 티어를 사용해야 합니다.
</Info>

## Connection String

Redis에 연결하기 위해 `redis-py`를 사용합니다. 이 라이브러리는 다양한 connection string을 지원합니다. connection string 형식에 대한 자세한 정보는 [여기](https://redis-py.readthedocs.io/en/stable/#redis.StrictRedis.from_url)에서 확인할 수 있습니다.

Redis 인스턴스에 대한 connection string을 구성해야 합니다. 이 connection string에는 다음 정보가 포함되어야 합니다:

* Host
* Database
* Port
* URL params

다음과 같은 형식을 취합니다:

```
"redis://host:port/db?<url_params>"
```

connection string 예시는 다음과 같습니다:

```
"redis://langsmith-redis:6379/0"
```

SSL을 사용하려면 `rediss://` 접두사를 사용할 수 있습니다. SSL을 사용하는 connection string 예시는 다음과 같습니다:

```
"rediss://langsmith-redis:6380/0?password=foo"
```

## 구성

connection string을 준비했다면 LangSmith 인스턴스를 외부 Redis 인스턴스를 사용하도록 구성할 수 있습니다. LangSmith Helm Chart 설치의 `values` 파일 또는 Docker 설치의 `.env` 파일을 수정하여 이를 수행할 수 있습니다.

<CodeGroup>

```yaml Helm
redis:
  external:
    enabled: true
    connectionUrl: "Your connection url"
```

```bash Docker
# In your .env file
REDIS_DATABASE_URI="Your connection url"
```

</CodeGroup>

구성이 완료되면 LangSmith 인스턴스를 재설치할 수 있습니다. 모든 것이 올바르게 구성되었다면 LangSmith 인스턴스는 이제 외부 Redis 인스턴스를 사용하게 됩니다.

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/self-host-external-redis.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
