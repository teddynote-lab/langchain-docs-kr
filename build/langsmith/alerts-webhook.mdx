---
title: LangSmith 알림을 위한 webhook 알림 구성하기
sidebarTitle: 알림을 위한 webhook 알림 구성하기
---

## 개요

이 가이드는 [LangSmith 알림](/langsmith/alerts)을 위한 webhook 알림 설정 프로세스를 자세히 설명합니다. 진행하기 전에 [이 가이드](./alerts)를 따라 알림 생성의 알림 단계까지의 단계를 완료했는지 확인하세요. Webhook은 알림 조건이 트리거될 때 HTTP POST 요청을 전송하여 사용자 정의 서비스 및 타사 플랫폼과의 통합을 가능하게 합니다. Webhook을 사용하여 알림 데이터를 티켓팅 시스템, 채팅 애플리케이션 또는 사용자 정의 모니터링 솔루션으로 전달할 수 있습니다.

## 사전 요구 사항

* HTTP POST 요청을 수신할 수 있는 endpoint
* 수신 서비스에 대한 적절한 인증 자격 증명 (필요한 경우)

## 통합 구성

### 1단계: 수신 Endpoint 준비하기

LangSmith에서 webhook을 구성하기 전에 수신 endpoint가 다음을 충족하는지 확인하세요:

* HTTP POST 요청을 수락함
* JSON payload를 처리할 수 있음
* 외부 서비스에서 액세스 가능함
* 적절한 인증 메커니즘이 있음 (필요한 경우)

또한 LangSmith의 사용자 정의 배포를 사용하는 경우 LangSmith 서비스에서 나가는 트래픽을 차단하는 방화벽 설정이 없는지 확인하세요.

### 2단계: Webhook 매개변수 구성하기

![Webhook Setup](/langsmith/images/webhook-setup.png)

알림의 알림 섹션에서 다음 매개변수로 webhook 구성을 완료하세요:

**필수 필드**

* **URL**: 수신 endpoint의 전체 URL
  * 예시: `https://api.example.com/incident-webhook`

**선택 필드**

* **Headers**: webhook 요청과 함께 전송되는 JSON Key-value 쌍

  * 일반적인 header는 다음과 같습니다:

    * `Authorization`: 인증 token용
    * `Content-Type`: 일반적으로 `application/json`로 설정 (기본값)
    * `X-Source`: 소스를 LangSmith로 식별하기 위해

  * header가 없는 경우 단순히 `{}`를 사용하세요

* **Request Body Template**: endpoint로 전송되는 JSON payload를 사용자 정의

  * 기본값: LangSmith는 정의된 payload와 다음 추가 key-value 쌍을 payload에 추가하여 전송합니다:

    * `project_name`: 트리거된 알림의 이름
    * `alert_rule_id`: LangSmith 알림을 식별하는 UUID. webhook 서비스에서 중복 제거 키로 사용할 수 있습니다.
    * `alert_rule_name`: 알림 규칙의 이름.
    * `alert_rule_type`: 알림 유형 (2025년 4월 1일 기준 모든 알림은 `threshold` 유형입니다).
    * `alert_rule_attribute`: 알림 규칙과 연결된 속성 - `error_count`, `feedback_score` 또는 `latency`.
    * `triggered_metric_value`: 임계값이 트리거된 시점의 메트릭 값.
    * `triggered_threshold`: 알림을 트리거한 임계값.
    * `timestamp`: 알림을 트리거한 타임스탬프.

### 3단계: Webhook 테스트하기

**Send Test Alert**를 클릭하여 webhook 알림을 전송하고 알림이 의도한 대로 작동하는지 확인하세요.

## 문제 해결

webhook 알림이 전달되지 않는 경우:

* webhook URL이 올바르고 액세스 가능한지 확인하세요
* 인증 header가 올바르게 형식화되었는지 확인하세요
* 수신 endpoint가 POST 요청을 수락하는지 확인하세요
* 수신되었지만 거부된 요청에 대해 endpoint의 로그를 검토하세요
* 사용자 정의 payload template이 유효한 JSON 형식인지 확인하세요

## 보안 고려 사항

* webhook endpoint에 HTTPS를 사용하세요
* webhook endpoint에 대한 인증을 구현하세요
* webhook 소스를 확인하기 위해 header에 공유 비밀을 추가하는 것을 고려하세요
* 처리하기 전에 들어오는 webhook 요청을 검증하세요

## Webhook을 사용하여 Slack으로 알림 보내기

다음은 [`chat.postMessage`](https://api.slack.com/methods/chat.postMessage) API를 사용하여 Slack 채널로 알림을 보내도록 LangSmith 알림을 구성하는 예시입니다.

### 사전 요구 사항

* Slack workspace에 대한 액세스
* 알림을 설정할 LangSmith project
* Slack application을 생성할 수 있는 권한

### 1단계: Slack App 생성하기

1. [Slack API Applications 페이지](https://api.slack.com/apps) 방문
2. **Create New App** 클릭
3. **From scratch** 선택
4. **App Name** 제공 (예: "LangSmith Alerts")
5. 앱을 설치할 workspace 선택
6. **Create App** 클릭

### 2단계: Bot 권한 구성하기

1. Slack 앱 구성의 왼쪽 사이드바에서 **OAuth & Permissions** 클릭

2. **Scopes** 아래의 **Bot Token Scopes**로 스크롤하여 **Add an OAuth Scope** 클릭

3. 다음 scope를 추가하세요:

   * `chat:write` (앱으로 메시지 전송)
   * `chat:write.public` (앱이 속하지 않은 채널에 메시지 전송)
   * `channels:read` (기본 채널 정보 보기)

### 3단계: Workspace에 앱 설치하기

1. **OAuth & Permissions** 페이지 상단으로 스크롤
2. **Install to Workspace** 클릭
3. 권한을 검토하고 **Allow** 클릭
4. 표시되는 **Bot User OAuth Token** 복사 (`xoxb-`로 시작)

### 4단계: LangSmith에서 Webhook 알림 구성하기

1. LangSmith에서 project로 이동
2. **Alerts → Create Alert** 선택
3. 알림 메트릭 및 조건 정의
4. 알림 섹션에서 **Webhook** 선택
5. 다음 설정으로 webhook 구성:

**Webhook URL**

```json
https://slack.com/api/chat.postMessage
```

**Headers**

```json
{
  "Content-Type": "application/json",
  "Authorization": "Bearer xoxb-your-token-here"
}
```

> **참고:** `xoxb-your-token-here`를 실제 Bot User OAuth Token으로 교체하세요

**Request Body Template**

```json
{
  "channel": "{channel_id}",
  "text": "{alert_name} triggered for {project_name}",
  "blocks": [
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "🚨{alert_name} has been triggered"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "Please check the following link for more information:"
      }
    },
    {
      "type": "section",
      "text": {
        "type": "mrkdwn",
        "text": "<{project-url}|View in LangSmith>"
      }
    }
  ]
}
```

**참고:** 알림을 생성할 때 `channel_id`, `alert_name`, `project_name` 및 `project_url`을 입력하세요. `project_url`은 브라우저의 URL 표시줄에서 찾을 수 있습니다. 쿼리 매개변수를 포함하지 않는 부분까지 복사하세요.

6. **Save**를 클릭하여 webhook 구성을 활성화하세요

### 5단계: 통합 테스트하기

1. LangSmith 알림 구성에서 **Test Alert** 클릭
2. 지정된 Slack 채널에서 테스트 알림 확인
3. 메시지에 예상된 알림 정보가 포함되어 있는지 확인

### (선택 사항) 6단계: Request Body에 알림 미리보기 링크 추가하기

알림을 생성한 후 선택적으로 webhook의 request body에 미리보기 링크를 추가할 수 있습니다.

![Alert Preview Pane](/langsmith/images/alert-preview-pane.png)

이를 구성하려면:

1. 알림 저장
2. 알림 테이블에서 저장된 알림을 찾아 클릭
3. 표시된 URL 복사
4. "Edit Alert" 클릭
5. 기존 project URL을 복사한 알림 미리보기 URL로 교체

## 추가 리소스

* [LangSmith Alerts 문서](/langsmith/alerts)
* [Slack chat.postMessage API 문서](https://api.slack.com/methods/chat.postMessage)
* [Slack Block Kit Builder](https://app.slack.com/block-kit-builder/)

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/alerts-webhook.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
