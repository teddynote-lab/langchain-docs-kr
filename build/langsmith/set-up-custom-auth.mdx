---
title: ì»¤ìŠ¤í…€ ì¸ì¦ ì„¤ì •í•˜ê¸°
sidebarTitle: ì»¤ìŠ¤í…€ ì¸ì¦ ì„¤ì •í•˜ê¸°
---
ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” íŠ¹ì • ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì±—ë´‡ì„ êµ¬ì¶•í•©ë‹ˆë‹¤. LangGraph í…œí”Œë¦¿ìœ¼ë¡œ ì‹œì‘í•˜ì—¬ ë‹¨ê³„ë³„ë¡œ í† í° ê¸°ë°˜ ë³´ì•ˆì„ ì¶”ê°€í•©ë‹ˆë‹¤. ë§ˆì§€ë§‰ì—ëŠ” ì ‘ê·¼ì„ í—ˆìš©í•˜ê¸° ì „ì— ìœ íš¨í•œ í† í°ì„ í™•ì¸í•˜ëŠ” ì‘ë™í•˜ëŠ” ì±—ë´‡ì„ ê°–ê²Œ ë©ë‹ˆë‹¤.

ì´ê²ƒì€ ì¸ì¦ ì‹œë¦¬ì¦ˆì˜ 1ë¶€ì…ë‹ˆë‹¤:

1. ì»¤ìŠ¤í…€ ì¸ì¦ ì„¤ì •í•˜ê¸° (í˜„ì¬ ìœ„ì¹˜) - ë´‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì‚¬ìš©ì ì œì–´
2. [ëŒ€í™”ë¥¼ ë¹„ê³µê°œë¡œ ë§Œë“¤ê¸°](/langsmith/resource-auth) - ì‚¬ìš©ìê°€ ë¹„ê³µê°œ ëŒ€í™”ë¥¼ í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸°
3. [ì¸ì¦ ì œê³µì ì—°ê²°í•˜ê¸°](/langsmith/add-auth-server) - ì‹¤ì œ ì‚¬ìš©ì ê³„ì • ì¶”ê°€ ë° í”„ë¡œë•ì…˜ìš© OAuth2ë¥¼ ì‚¬ìš©í•œ ê²€ì¦

ì´ ê°€ì´ë“œëŠ” ë‹¤ìŒ ê°œë…ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ì´í•´ë¥¼ ì „ì œë¡œ í•©ë‹ˆë‹¤:

* [**Authentication & Access Control**](/langsmith/auth)
* [**LangSmith**](/langsmith/home)

<Note>
ì»¤ìŠ¤í…€ ì¸ì¦ì€ LangSmith SaaS ë°°í¬ ë˜ëŠ” Enterprise Self-Hosted ë°°í¬ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
</Note>

## 1. ì•± ìƒì„±í•˜ê¸°

LangGraph starter í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆ ì±—ë´‡ì„ ìƒì„±í•©ë‹ˆë‹¤:

<CodeGroup>
```bash pip
pip install -U "langgraph-cli[inmem]"
langgraph new --template=new-langgraph-project-python custom-auth
cd custom-auth
```

```bash uv
uv add langgraph-cli[inmem]
langgraph new --template=new-langgraph-project-python custom-auth
cd custom-auth
```
</CodeGroup>

í…œí”Œë¦¿ì€ placeholder LangGraph ì•±ì„ ì œê³µí•©ë‹ˆë‹¤. ë¡œì»¬ ì˜ì¡´ì„±ì„ ì„¤ì¹˜í•˜ê³  ê°œë°œ ì„œë²„ë¥¼ ì‹¤í–‰í•˜ì—¬ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”:

<CodeGroup>
```bash pip
pip install -e .
langgraph dev
```

```bash uv
uv add .
langgraph dev
```

```bash npm
npx @langchain/langgraph-cli dev
```
</CodeGroup>

ì„œë²„ê°€ ì‹œì‘ë˜ê³  ë¸Œë¼ìš°ì €ì—ì„œ [Studio](/langsmith/studio)ê°€ ì—´ë¦½ë‹ˆë‹¤:

```
> - ğŸš€ API: http://127.0.0.1:2024
> - ğŸ¨ Studio UI: https://smith.langchain.com/studio/?baseUrl=http://127.0.0.1:2024
> - ğŸ“š API Docs: http://127.0.0.1:2024/docs
>
> This in-memory server is designed for development and testing.
> For production use, please use LangSmith.
```

ë§Œì•½ ì´ê²ƒì„ ê³µê°œ ì¸í„°ë„·ì— self-hostí•œë‹¤ë©´, ëˆ„êµ¬ë‚˜ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ì¸ì¦ ì—†ìŒ: ê°œë°œ ì„œë²„ëŠ” ê³µê°œì ìœ¼ë¡œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë©°, ì¸í„°ë„·ì— ë…¸ì¶œë˜ë©´ ëˆ„êµ¬ë‚˜ ë´‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.](/langsmith/images/no-auth.png)

## 2. ì¸ì¦ ì¶”ê°€í•˜ê¸°

ì´ì œ ê¸°ë³¸ LangGraph ì•±ì´ ìˆìœ¼ë¯€ë¡œ ì¸ì¦ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

<Note>
ì´ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ì˜ˆì œ ëª©ì ìœ¼ë¡œ í•˜ë“œì½”ë”©ëœ í† í°ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤. ì„¸ ë²ˆì§¸ íŠœí† ë¦¬ì–¼ì—ì„œ "í”„ë¡œë•ì…˜ ì¤€ë¹„" ì¸ì¦ ì²´ê³„ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.
</Note>

[`Auth`](https://langchain-ai.github.io/langgraph/cloud/reference/sdk/python-sdk_ref#langgraph_sdk.auth.Auth) ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ LangSmith ë°°í¬ê°€ ëª¨ë“  ìš”ì²­ì—ì„œ ì‹¤í–‰í•  ì¸ì¦ í•¨ìˆ˜ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ê° ìš”ì²­ì„ ë°›ì•„ ìˆ˜ë½ ë˜ëŠ” ê±°ë¶€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.

ìƒˆ íŒŒì¼ `src/security/auth.py`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ì´ê³³ì— ì‚¬ìš©ìê°€ ë´‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œê°€ ìœ„ì¹˜í•©ë‹ˆë‹¤:

```python {highlight={10,15-16}} title="src/security/auth.py"
from langgraph_sdk import Auth

# This is our toy user database. Do not do this in production
VALID_TOKENS = {
    "user1-token": {"id": "user1", "name": "Alice"},
    "user2-token": {"id": "user2", "name": "Bob"},
}

# The "Auth" object is a container that LangGraph will use to mark our authentication function
auth = Auth()


# The `authenticate` decorator tells LangGraph to call this function as middleware
# for every request. This will determine whether the request is allowed or not
@auth.authenticate
async def get_current_user(authorization: str | None) -> Auth.types.MinimalUserDict:
    """Check if the user's token is valid."""
    assert authorization
    scheme, token = authorization.split()
    assert scheme.lower() == "bearer"
    # Check if token is valid
    if token not in VALID_TOKENS:
        raise Auth.exceptions.HTTPException(status_code=401, detail="Invalid token")

    # Return user info if valid
    user_data = VALID_TOKENS[token]
    return {
        "identity": user_data["id"],
    }
```

[authentication](https://langchain-ai.github.io/langgraph/cloud/reference/sdk/python-sdk_ref#langgraph_sdk.auth.Auth.authenticate) í•¸ë“¤ëŸ¬ê°€ ë‘ ê°€ì§€ ì¤‘ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ëŠ” ì ì— ì£¼ëª©í•˜ì„¸ìš”:

1. ìš”ì²­ì˜ [Authorization header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization)ì— ìœ íš¨í•œ í† í°ì´ ì œê³µë˜ì—ˆëŠ”ì§€ í™•ì¸
2. ì‚¬ìš©ìì˜ [identity](https://langchain-ai.github.io/langgraph/cloud/reference/sdk/python-sdk_ref#langgraph_sdk.auth.types.MinimalUserDict) ë°˜í™˜

ì´ì œ [`langgraph.json`](/langsmith/cli#configuration-file) ì„¤ì •ì— ë‹¤ìŒì„ ì¶”ê°€í•˜ì—¬ LangGraphê°€ ì¸ì¦ì„ ì‚¬ìš©í•˜ë„ë¡ ì§€ì‹œí•©ë‹ˆë‹¤:

```json {highlight={7-9}} title="langgraph.json"
{
  "dependencies": ["."],
  "graphs": {
    "agent": "./src/agent/graph.py:graph"
  },
  "env": ".env",
  "auth": {
    "path": "src/security/auth.py:auth"
  }
}
```

## 3. ë´‡ í…ŒìŠ¤íŠ¸í•˜ê¸°

ëª¨ë“  ê²ƒì„ í…ŒìŠ¤íŠ¸í•˜ê¸° ìœ„í•´ ì„œë²„ë¥¼ ë‹¤ì‹œ ì‹œì‘í•©ë‹ˆë‹¤:

```bash
langgraph dev --no-browser
```

`--no-browser`ë¥¼ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¸Œë¼ìš°ì €ì—ì„œ Studio UIê°€ ì—´ë¦½ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì»¤ìŠ¤í…€ ì¸ì¦ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì—ë„ Studioì—ì„œì˜ ì ‘ê·¼ì„ í—ˆìš©í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ Studioì—ì„œ ë´‡ì„ ë” ì‰½ê²Œ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¸ì¦ ì„¤ì •ì—ì„œ `disable_studio_auth: "true"`ë¥¼ ì„¤ì •í•˜ì—¬ ì´ ëŒ€ì²´ ì¸ì¦ ì˜µì…˜ì„ ì œê±°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```json
{
    "auth": {
        "path": "src/security/auth.py:auth",
        "disable_studio_auth": "true"
    }
}
```

## 4. ë´‡ê³¼ ëŒ€í™”í•˜ê¸°

ì´ì œ ìš”ì²­ í—¤ë”ì— ìœ íš¨í•œ í† í°ì„ ì œê³µí•˜ëŠ” ê²½ìš°ì—ë§Œ ë´‡ì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ íŠœí† ë¦¬ì–¼ì˜ ë‹¤ìŒ ì„¹ì…˜ì—ì„œ [resource authorization handlers](/langsmith/auth#resource-specific-handlers)ë¥¼ ì¶”ê°€í•  ë•Œê¹Œì§€ ì‚¬ìš©ìëŠ” ì—¬ì „íˆ ì„œë¡œì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ì¸ì¦ ê²Œì´íŠ¸ëŠ” ìœ íš¨í•œ í† í°ì´ ìˆëŠ” ìš”ì²­ì„ í†µê³¼ì‹œí‚¤ì§€ë§Œ, ì•„ì§ ë¦¬ì†ŒìŠ¤ë³„ í•„í„°ê°€ ì ìš©ë˜ì§€ ì•Šì•„ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ê¶Œí•œ í•¸ë“¤ëŸ¬ë¥¼ ì¶”ê°€í•  ë•Œê¹Œì§€ ì‚¬ìš©ìê°€ ê°€ì‹œì„±ì„ ê³µìœ í•©ë‹ˆë‹¤.](/langsmith/images/authentication.png)

íŒŒì¼ì´ë‚˜ ë…¸íŠ¸ë¶ì—ì„œ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:

```python
from langgraph_sdk import get_client

# Try without a token (should fail)
client = get_client(url="http://localhost:2024")
try:
    thread = await client.threads.create()
    print("âŒ Should have failed without token!")
except Exception as e:
    print("âœ… Correctly blocked access:", e)

# Try with a valid token
client = get_client(
    url="http://localhost:2024", headers={"Authorization": "Bearer user1-token"}
)

# Create a thread and chat
thread = await client.threads.create()
print(f"âœ… Created thread as Alice: {thread['thread_id']}")

response = await client.runs.create(
    thread_id=thread["thread_id"],
    assistant_id="agent",
    input={"messages": [{"role": "user", "content": "Hello!"}]},
)
print("âœ… Bot responded:")
print(response)
```

ë‹¤ìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. ìœ íš¨í•œ í† í° ì—†ì´ëŠ” ë´‡ì— ì ‘ê·¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
2. ìœ íš¨í•œ í† í°ì´ ìˆìœ¼ë©´ threadë¥¼ ìƒì„±í•˜ê³  ëŒ€í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

ì¶•í•˜í•©ë‹ˆë‹¤! "ì¸ì¦ëœ" ì‚¬ìš©ìë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì±—ë´‡ì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. ì´ ì‹œìŠ¤í…œì€ (ì•„ì§) í”„ë¡œë•ì…˜ ì¤€ë¹„ ë³´ì•ˆ ì²´ê³„ë¥¼ êµ¬í˜„í•˜ì§€ ì•Šì§€ë§Œ, ë´‡ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ë°©ë²•ì˜ ê¸°ë³¸ ë©”ì»¤ë‹ˆì¦˜ì„ ë°°ì› ìŠµë‹ˆë‹¤. ë‹¤ìŒ íŠœí† ë¦¬ì–¼ì—ì„œëŠ” ê° ì‚¬ìš©ìì—ê²Œ ìì‹ ë§Œì˜ ë¹„ê³µê°œ ëŒ€í™”ë¥¼ ì œê³µí•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤.

## ë‹¤ìŒ ë‹¨ê³„

ì´ì œ ë´‡ì— ì ‘ê·¼í•˜ëŠ” ì‚¬ìš©ìë¥¼ ì œì–´í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¤ìŒì„ ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. [ëŒ€í™”ë¥¼ ë¹„ê³µê°œë¡œ ë§Œë“¤ê¸°](/langsmith/resource-auth)ë¡œ ì´ë™í•˜ì—¬ ë¦¬ì†ŒìŠ¤ ê¶Œí•œ ë¶€ì—¬ì— ëŒ€í•´ ì•Œì•„ë³´ë©° íŠœí† ë¦¬ì–¼ì„ ê³„ì†í•©ë‹ˆë‹¤.
2. [ì¸ì¦ ê°œë…](/langsmith/auth)ì— ëŒ€í•´ ìì„¸íˆ ì½ì–´ë³´ì„¸ìš”.
3. ë” ë§ì€ ì¸ì¦ ì„¸ë¶€ ì •ë³´ëŠ” [API reference](https://langchain-ai.github.io/langgraph/cloud/reference/sdk/python-sdk_ref)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

---

<Callout icon="pen-to-square" iconType="regular">
    [Edit the source of this page on GitHub.](https://github.com/langchain-ai/docs/edit/main/src/langsmith/set-up-custom-auth.mdx)
</Callout>
<Tip icon="terminal" iconType="regular">
    [Connect these docs programmatically](/use-these-docs) to Claude, VSCode, and more via MCP for    real-time answers.
</Tip>
