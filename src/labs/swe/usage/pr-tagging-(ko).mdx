---
title: "PR Tagging"
description: "PR 댓글과 리뷰에서 태그하여 Open SWE 실행을 트리거하는 방법"
---

<Warning>
  PR tagging 기능은 [swe.langchain.com](https://swe.langchain.com)의 데모 애플리케이션에서는 **사용할 수 없습니다**. PR tagging을 사용하려면 [개발 설정 가이드](/labs/swe/setup/development)에 따라 Open SWE를 직접 호스팅해야 합니다.
</Warning>

# PR Tagging Integration

Open SWE는 pull request 상호작용에서 에이전트를 태그하여 댓글과 리뷰를 통해 자동화된 실행을 직접 트리거하는 것을 지원합니다. 이 기능은 GitHub 인터페이스를 벗어나지 않고도 코드 변경을 요청하거나, 질문하거나, 리뷰 피드백을 해결할 수 있는 원활한 방법을 제공합니다.

## PR Tagging 작동 방식

다음 컨텍스트에서 `@open-swe`를 언급하여 Open SWE를 트리거할 수 있습니다:

### PR Reviews
- pull request에 **리뷰를 남기고** 리뷰 본문에 `@open-swe`를 태그합니다
- Open SWE는 전체 리뷰를 처리하고 그 안의 모든 댓글을 해결합니다
- 여러 변경이 필요한 포괄적인 피드백에 이상적입니다

### Review Comments
- 특정 라인별 리뷰 댓글에서 **`@open-swe`를 태그**합니다
- Open SWE는 해당 특정 댓글을 해결하는 데 집중합니다
- 특정 코드 섹션에 대한 타겟 수정에 완벽합니다

### General PR Comments
- **PR에 댓글을 달고** `@open-swe`를 태그하여 일반적인 변경을 요청합니다
- Open SWE는 요청된 수정 사항을 구현합니다
- 더 광범위한 변경이나 새로운 기능 요청에 가장 적합합니다

<Note>
  `@open-swe`를 태그할 때마다 **새로운 독립적인 실행**이 생성됩니다. 동일한 댓글이나 다른 댓글에 여러 태그가 있으면 별도의 실행이 실행됩니다.
</Note>

## Context 및 보안 고려사항

<Warning>
  **보안 알림**: PR에서 Open SWE를 태그하면 해당 pull request의 **모든 댓글, 리뷰 및 리뷰 댓글**과 연결된 이슈에 액세스할 수 있습니다. 잠재적인 prompt injection 공격을 인지하고 이 기능을 사용할 때 PR 토론이나 연결된 이슈에 민감한 정보를 포함하지 마세요.
</Warning>

### 포함되는 Context

Open SWE가 PR tagging 요청을 처리할 때 자동으로 다음을 수집합니다:

- **모든 PR 댓글** (일반 토론 댓글)
- **모든 리뷰** (관련 리뷰 댓글 포함)
- **모든 리뷰 댓글** (라인별 피드백)
- **연결된 이슈** PR 설명에서 참조된 이슈 (이슈 제목 및 설명)

### Linked Issues 감지

Open SWE는 PR 설명에서 다음 키워드를 사용하여 연결된 이슈를 자동으로 감지하고 포함합니다:
- `fixes #123` 또는 `fix #123`
- `closes #456` 또는 `close #456`
- `resolves #789` 또는 `resolve #789`

이러한 패턴이 발견되면 Open SWE는 요구사항을 더 잘 이해하기 위해 이슈 제목과 설명을 추가 컨텍스트로 포함합니다.

## Open SWE 응답 방식

Open SWE는 요청에 따라 **코드 변경**과 **질문** 모두를 처리할 수 있습니다:

### Code Changes
코드 수정을 요청하면 Open SWE는:
1. 원본 PR branch를 가리키는 **새 branch를 생성**합니다
2. 이 새 branch에 **요청된 변경 사항을 구현**합니다
3. 변경 사항이 포함된 **새 pull request를 생성**합니다
4. 쉬운 리뷰를 위해 **새 PR을 원본 PR에 연결**합니다

이 워크플로우는 원본 PR을 변경하지 않은 상태로 유지하면서 제안된 수정 사항을 별도로 검토할 수 있도록 합니다.

### Questions and Investigations
Open SWE는 코드 변경이 필요하지 않은 질문에도 응답할 수 있습니다:
- 코드 기능이나 아키텍처 결정에 대해 질문합니다
- 기존 구현에 대한 설명을 요청합니다
- 대체 접근 방식에 대한 제안을 받습니다

### Response Types by Comment Location

**Review Comments (라인별)**
- Open SWE는 **리뷰 댓글에 직접 답변**합니다
- 응답은 동일한 대화 스레드에 나타납니다

**Review Messages (전체 리뷰)**
- Open SWE는 PR에 **새 댓글을 생성**합니다
- 원본 리뷰를 인용하고 리뷰어를 태그합니다
- 리뷰에 대한 포괄적인 응답을 제공합니다

**General PR Comments**
- Open SWE는 PR에 **새 댓글을 생성**합니다
- 원본 댓글을 인용하고 댓글 작성자를 태그합니다
- 특정 요청이나 질문을 처리합니다

## Getting Started

PR tagging을 사용하기 시작하려면:

1. **Open SWE가 저장소에 올바르게 구성되어 있는지 확인**합니다 (아래 자체 호스팅 섹션 참조)
2. Open SWE가 설치된 저장소의 **pull request로 이동**합니다
3. 원하는 내용을 설명하는 **댓글, 리뷰 또는 리뷰 댓글을 남깁니다**
4. 메시지 어디에나 **`@open-swe`를 태그**합니다
5. **Open SWE의 응답을 기다립니다** - 즉시 응답하고 처리를 시작합니다

### Example Usage

```markdown
@open-swe can you refactor this function to use async/await instead of promises?
```

```markdown
This code looks good overall, but I think we need better error handling. 
@open-swe please add try-catch blocks and proper error logging.
```

```markdown
@open-swe what's the performance impact of this approach compared to the previous implementation?
```

## Self-Hosting Configuration

자체 호스팅된 Open SWE 인스턴스에서 PR tagging을 사용하려면 사용자 정의 트리거 사용자 이름을 구성해야 합니다:

### Step 1: Create a GitHub User Account

태그 트리거로 사용할 전용 GitHub 사용자 계정을 생성합니다:
- 기억하기 쉬운 사용자 이름을 선택합니다 (예: GitHub App 이름과 일치)
- 이 계정에는 특별한 권한이 필요하지 않습니다 - 태그에만 사용됩니다

### Step 2: Update the Trigger Function

`apps/open-swe/src/routes/github/utils.ts`에서 `mentionsGitHubUserForTrigger` function을 수정합니다:

```typescript
export function mentionsGitHubUserForTrigger(commentBody: string): boolean {
  return /@your-custom-username\b/.test(commentBody);
}
```

`your-custom-username`을 생성한 GitHub 사용자 이름으로 바꿉니다.

### Step 3: Set Environment Variable

`apps/open-swe/.env`의 환경 구성에 트리거 사용자 이름을 추가합니다:

```bash
GITHUB_TRIGGER_USERNAME="your-custom-username"
```

이것은 Step 1의 사용자 이름과 일치해야 합니다 (@ 기호 제외).

### Step 4: Update Allowed Users

실행을 트리거할 수 있는 GitHub 사용자 이름을 에이전트의 배포 환경에 있는 `NEXT_PUBLIC_ALLOWED_USERS_LIST` environment variable에 추가합니다 (allowed users 기능을 활용하려면 웹 앱과 에이전트 모두의 프로덕션 배포에 포함).

```bash
NEXT_PUBLIC_ALLOWED_USERS_LIST='["your-github-username", "teammate-username"]'
```

로컬에서 실행할 때는 모든 사용자가 "allowed user"입니다. 또한 웹 앱의 프로덕션 환경 변수에 이 environment variable을 설정하는 것이 좋습니다. 그러면 사용자가 웹 앱을 통해 Open SWE를 호출할 때 자체 API key를 설정할 필요가 없습니다.

<Tip>
  이러한 구성 변경을 수행한 후 새 설정이 적용되도록 Open SWE 인스턴스를 다시 시작하세요. 그런 다음 PR 댓글에서 사용자 정의 사용자 이름을 태그하여 기능을 테스트할 수 있습니다.
</Tip>

## Best Practices

- 더 나은 결과를 얻으려면 요청에서 **구체적으로 작성**하세요
- 실행을 집중적으로 유지하려면 다양한 유형의 변경에 대해 **별도의 태그를 사용**하세요
- 품질을 보장하기 위해 병합하기 전에 **생성된 PR을 검토**하세요
- **컨텍스트를 염두에 두세요** - PR 토론에서 민감한 정보를 피하세요
- 자체 호스팅을 설정할 때 **간단한 요청으로 먼저 테스트**하세요

## Troubleshooting

PR tagging이 작동하지 않는 경우:

1. **GitHub App 권한 확인** - 필요한 event subscription이 활성화되어 있는지 확인하세요
2. **environment variable 확인** - `GITHUB_TRIGGER_USERNAME`이 올바르게 설정되어 있는지 확인하세요
3. **allowed users 검토** - GitHub 사용자 이름이 `ALLOWED_USERS` 목록에 있는지 확인하세요
4. **webhook 구성 확인** - webhook이 올바르게 구성되어 있고 이벤트를 수신하고 있는지 확인하세요
5. **로그 모니터링** - 오류 메시지나 디버깅 정보가 있는지 Open SWE 로그를 확인하세요

추가 도움이 필요하면 [개발 설정 가이드](/labs/swe/setup/development)를 참조하거나 GitHub 저장소에서 문제 해결 리소스를 확인하세요.