---
title: 내장 컴포넌트
---

Deep Agents는 에이전트가 복잡한 작업을 수행하는 데 도움이 되는 여러 내장 컴포넌트를 제공합니다.

## System prompt

Deep Agents는 Claude Code의 아키텍처에서 크게 영감을 받은 상세한 system prompt를 제공합니다. 이 prompt는 planning tool, file system tool, 그리고 sub agent를 효과적으로 사용하기 위한 지침을 제공합니다.

## Planning tool

Claude Code의 TodoWrite 기능을 기반으로 한 간단한 planning tool로, 에이전트가 컨텍스트에서 계획을 생성하고 추적하여 복잡한 작업을 수행할 때 올바른 방향을 유지하도록 도와줍니다.

## File system tools

LangGraph의 state를 사용하여 file system을 모킹하는 4개의 내장 tool:

- `ls` - 파일과 디렉토리 목록 조회
- `read_file` - 파일 내용 읽기
- `write_file` - 파일에 쓰기
- `edit_file` - 기존 파일 편집

파일은 files key를 통해 전달하고 검색할 수 있습니다:

<CodeGroup>

```python Python
# Pass files to the agent
result = agent.invoke({
    "messages": [...],
    "files": {"foo.txt": "file content", ...}
})

# Access files after execution
updated_files = result["files"]
```

```typescript JavaScript
const result = await agent.invoke({
  messages: [...],
  // Pass in files to the agent using this key
  files: {"foo.txt": "foo", ...}
});

// Access any files afterwards like this
result.files;
```

</CodeGroup>

## Sub-agents

다음 기능을 갖춘 특수화된 sub-agent 호출을 위한 내장 지원:

- **Context quarantine**: 메인 에이전트의 컨텍스트 오염 방지
- **Custom instructions**: 특정 작업을 위한 맞춤형 prompt
- **Tool access control**: Subagent는 서로 다른 tool set을 가질 수 있음

메인 에이전트와 동일한 instructions 및 tool을 가진 범용 sub-agent가 항상 사용 가능합니다.

## MCP

`deepagents` 라이브러리는 MCP tool과 함께 실행할 수 있습니다. 이는 [LangChain MCP Adapter library](https://github.com/langchain-ai/langchain-mcp-adapters)를 사용하여 구현할 수 있습니다.

예시:

```python
# pip install langchain-mcp-adapters

import asyncio
from langchain_mcp_adapters.client import MultiServerMCPClient
from deepagents import create_deep_agent

async def main():
    # Collect MCP tools
    mcp_client = MultiServerMCPClient(...)
    mcp_tools = await mcp_client.get_tools()

    # Create agent
    agent = create_deep_agent(tools=mcp_tools, ....)

    # Stream the agent
    async for chunk in agent.astream(
        {"messages": [{"role": "user", "content": "what is langgraph?"}]},
        stream_mode="values"
    ):
        if "messages" in chunk:
            chunk["messages"][-1].pretty_print()

asyncio.run(main())
```