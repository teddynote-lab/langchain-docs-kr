---
title: LocalFileStore
---

<Tip>
**호환성**: Node.js에서만 사용 가능합니다.
</Tip>


이 문서는 [LocalFileStore](/oss/integrations/stores) 시작하기를 도와드립니다. 모든 LocalFileStore 기능 및 구성에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain.storage_file_system.LocalFileStore.html)를 참조하세요.

## Overview

`LocalFileStore`는 데이터를 key-value 쌍으로 저장하기 위한 `fs` 모듈의 wrapper입니다.
각 key-value 쌍은 `.fromPath` 메서드에 전달된 디렉토리 내부에 중첩된 자체 파일을 가집니다.
파일 이름은 key이며 내부에는 key의 value가 포함됩니다.


<Info>
**`.fromPath`에 전달되는 경로는 파일이 아닌 디렉토리여야 합니다.**
</Info>

<Warning>
**이 file store는 제공된 디렉토리 및 모든 하위 폴더의 텍스트 파일을 변경할 수 있습니다.**

store를 초기화할 때 지정하는 경로에 다른 파일이 없는지 확인하세요.

</Warning>


### Integration details

| Class | Package | Local | [PY support](https://python.langchain.com/docs/integrations/stores/file_system/) | Downloads | Version |
| :--- | :--- | :---: | :---: |  :---: | :---: |
| [LocalFileStore](https://api.js.langchain.com/classes/langchain.storage_file_system.LocalFileStore.html) | [langchain](https://api.js.langchain.com/modules/langchain.storage_file_system.html) | ✅ | ✅ | ![NPM - Downloads](https://img.shields.io/npm/dm/langchain?style=flat-square&label=%20&) | ![NPM - Version](https://img.shields.io/npm/v/langchain?style=flat-square&label=%20&) |

## Setup

### Installation

LangChain `LocalFileStore` integration은 `langchain` 패키지에 포함되어 있습니다:

<CodeGroup>
```bash npm
npm install langchain @langchain/core
```
```bash yarn
yarn add langchain @langchain/core
```
```bash pnpm
pnpm add langchain @langchain/core
```
</CodeGroup>

## Instantiation

이제 byte store를 인스턴스화할 수 있습니다:

```typescript
import { LocalFileStore } from "@langchain/classic/storage/file_system"

const kvStore = await LocalFileStore.fromPath("./messages");
```

데이터를 `Uint8Array`로 변환하고 다시 되돌리기 위한 encoder와 decoder를 정의합니다:

```typescript
const encoder = new TextEncoder();
const decoder = new TextDecoder();
```

## Usage

`mset` 메서드를 사용하여 다음과 같이 key 아래에 데이터를 설정할 수 있습니다:

```typescript
await kvStore.mset(
  [
    ["key1", encoder.encode("value1")],
    ["key2", encoder.encode("value2")],
  ]
)

const results = await kvStore.mget(
  [
    "key1",
    "key2",
  ]
)
console.log(results.map((v) => decoder.decode(v)));
```

```output
[ 'value1', 'value2' ]
```

그리고 `mdelete` 메서드를 사용하여 데이터를 삭제할 수 있습니다:

```typescript
await kvStore.mdelete(
  [
    "key1",
    "key2",
  ]
)

await kvStore.mget(
  [
    "key1",
    "key2",
  ]
)
```

```output
[ undefined, undefined ]
```

## Yielding values

모든 key를 가져오려면 `yieldKeys` 메서드를 호출할 수 있습니다. 선택적으로 key prefix를 전달하여 해당 prefix와 일치하는 key만 가져올 수 있습니다.

```typescript
import { LocalFileStore } from "@langchain/classic/storage/file_system"

const kvStoreForYield = await LocalFileStore.fromPath("./messages");

const encoderForYield = new TextEncoder();

// Add some data to the store
await kvStoreForYield.mset(
  [
    ["message:id:key1", encoderForYield.encode("value1")],
    ["message:id:key2", encoderForYield.encode("value2")],
  ]
)

const yieldedKeys = [];
for await (const key of kvStoreForYield.yieldKeys("message:id:")) {
  yieldedKeys.push(key);
}

console.log(yieldedKeys);
```

```output
[ 'message:id:key1', 'message:id:key2' ]
```

```typescript
import fs from "fs";

// Cleanup
await fs.promises.rm("./messages", { recursive: true, force: true });
```

## API reference

모든 LocalFileStore 기능 및 구성에 대한 자세한 문서는 [API reference](https://api.js.langchain.com/classes/langchain_storage_file_system.LocalFileStore.html)를 참조하세요