---
title: Llama CPP
---

<Tip>
**호환성**

Node.js에서만 사용 가능합니다.
</Tip>

이 모듈은 [llama.cpp](https://github.com/ggerganov/llama.cpp)를 위한 [node-llama-cpp](https://github.com/withcatai/node-llama-cpp) Node.js 바인딩을 기반으로 하며, 로컬에서 실행되는 LLM과 작업할 수 있게 해줍니다. 이를 통해 노트북 환경에서 실행 가능한 훨씬 작은 양자화된 모델로 작업할 수 있으며, 비용 부담 없이 테스트하고 아이디어를 스케치하는 데 이상적입니다!

## Setup

로컬 모델과 통신하려면 [node-llama-cpp](https://github.com/withcatai/node-llama-cpp) 모듈의 메이저 버전 `3`을 설치해야 합니다.

```bash npm
npm install -S node-llama-cpp@3
```
<Tip>
[LangChain 패키지 설치에 대한 일반적인 지침은 이 섹션을 참조하세요](/oss/langchain/install).
</Tip>

```bash npm
npm install @langchain/community @langchain/core
```

또한 로컬 Llama 3 모델(또는 [node-llama-cpp](https://github.com/withcatai/node-llama-cpp)에서 지원하는 모델)이 필요합니다. 이 모델의 경로를 매개변수의 일부로 LlamaCpp 모듈에 전달해야 합니다(예제 참조).

기본적으로 `node-llama-cpp`는 Apple M-시리즈 프로세서의 Metal GPU를 지원하는 MacOS 플랫폼에서 실행되도록 조정되어 있습니다. 이를 비활성화하거나 CUDA 아키텍처에 대한 지원이 필요한 경우 [node-llama-cpp](https://withcatai.github.io/node-llama-cpp/)의 문서를 참조하세요.

`llama3`를 가져오고 준비하는 방법에 대한 조언은 이 모듈의 LLM 버전 문서를 참조하세요.

LangChain.js 기여자를 위한 참고사항: 이 모듈과 관련된 테스트를 실행하려면 로컬 모델의 경로를 환경 변수 `LLAMA_PATH`에 넣어야 합니다.

## Usage

### 기본 사용법

로컬 Llama3 모델의 경로를 제공해야 하며, 이 모듈에서는 `embeddings` 속성이 항상 `true`로 설정됩니다.

```typescript
import { LlamaCppEmbeddings } from "@langchain/community/embeddings/llama_cpp";

const llamaPath = "/Replace/with/path/to/your/model/gguf-llama3-Q4_0.bin";

const embeddings = await LlamaCppEmbeddings.initialize({
  modelPath: llamaPath,
});

const res = embeddings.embedQuery("Hello Llama!");

console.log(res);

/*
	[ 15043, 365, 29880, 3304, 29991 ]
*/
```

### Document embedding

```typescript
import { LlamaCppEmbeddings } from "@langchain/community/embeddings/llama_cpp";

const llamaPath = "/Replace/with/path/to/your/model/gguf-llama3-Q4_0.bin";

const documents = ["Hello World!", "Bye Bye!"];

const embeddings = await LlamaCppEmbeddings.initialize({
  modelPath: llamaPath,
});

const res = await embeddings.embedDocuments(documents);

console.log(res);

/*
	[ [ 15043, 2787, 29991 ], [ 2648, 29872, 2648, 29872, 29991 ] ]
*/
```

## Related

- Embedding model [개념 가이드](/oss/integrations/text_embedding)
- Embedding model [사용 방법 가이드](/oss/integrations/text_embedding)