---
title: Motherduck
---

>[Motherduck](https://motherduck.com/)는 관리형 클라우드 DuckDB 서비스입니다.

## Installation and Setup

먼저 `duckdb` python package를 설치해야 합니다.

<CodeGroup>
```bash pip
pip install duckdb
```

```bash uv
uv add duckdb
```
</CodeGroup>

[Motherduck](https://motherduck.com/)에서 계정을 등록해야 합니다.

그 후, connection string을 설정해야 합니다 - 주로 SQLAlchemy를 통해 Motherduck와 통합합니다.
connection string은 일반적으로 다음과 같은 형식입니다:

```
token="..."

conn_str = f"duckdb:///md:{token}@my_db"
```

## SQLChain

SQLChain을 사용하여 자연어로 Motherduck 인스턴스의 데이터를 쿼리할 수 있습니다.

```
from langchain_openai import OpenAI
from langchain_community.utilities import SQLDatabase
from langchain_experimental.sql import SQLDatabaseChain
db = SQLDatabase.from_uri(conn_str)
db_chain = SQLDatabaseChain.from_llm(OpenAI(temperature=0), db, verbose=True)
```


## LLMCache

Motherduck를 사용하여 LLM 요청을 쉽게 캐시할 수도 있습니다.
이것 역시 SQLAlchemy wrapper를 통해 수행됩니다.

```
import sqlalchemy
from langchain.globals import set_llm_cache
eng = sqlalchemy.create_engine(conn_str)
set_llm_cache(SQLAlchemyCache(engine=eng))
```