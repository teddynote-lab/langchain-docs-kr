---
title: (Deprecated) Experimental Anthropic Tools Wrapper
---

<Warning>
**Anthropic API가 공식적으로 tool-calling을 지원하므로 이 우회 방법은 더 이상 필요하지 않습니다. `langchain-anthropic>=0.1.15`와 함께 [ChatAnthropic](/oss/integrations/chat/anthropic)을 사용하세요.**

</Warning>

이 노트북은 Anthropic을 감싸는 실험적인 wrapper를 사용하여 tool calling 및 structured output 기능을 제공하는 방법을 보여줍니다. Anthropic의 가이드 [여기](https://docs.claude.com/en/docs/agents-and-tools/tool-use/overview)를 따릅니다.

이 wrapper는 `langchain-anthropic` 패키지에서 사용할 수 있으며, llm의 XML 출력을 파싱하기 위해 선택적 종속성인 `defusedxml`도 필요합니다.

참고: 이것은 Anthropic의 공식 tool calling 구현으로 대체될 베타 기능이지만, 그동안 테스트 및 실험에 유용합니다.

```python
pip install -qU langchain-anthropic defusedxml
from langchain_anthropic.experimental import ChatAnthropicTools
```

## Tool Binding

`ChatAnthropicTools`는 Pydantic model이나 BaseTools를 llm에 전달할 수 있는 `bind_tools` 메서드를 제공합니다.

```python
from pydantic import BaseModel


class Person(BaseModel):
    name: str
    age: int


model = ChatAnthropicTools(model="claude-3-opus-20240229").bind_tools(tools=[Person])
model.invoke("I am a 27 year old named Erick")
```

```output
AIMessage(content='', additional_kwargs={'tool_calls': [{'function': {'name': 'Person', 'arguments': '{"name": "Erick", "age": "27"}'}, 'type': 'function'}]})
```

## Structured Output

`ChatAnthropicTools`는 값을 추출하기 위한 [`with_structured_output` spec](/oss/langchain/structured-output)도 구현합니다. 참고: 이것은 명시적으로 tool calling을 제공하는 모델만큼 안정적이지 않을 수 있습니다.

```python
chain = ChatAnthropicTools(model="claude-3-opus-20240229").with_structured_output(
    Person
)
chain.invoke("I am a 27 year old named Erick")
```

```output
Person(name='Erick', age=27)
```