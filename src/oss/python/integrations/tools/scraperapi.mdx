---
title: ScraperAPI
---

AI 에이전트에게 단 두 줄의 코드로 웹사이트를 탐색하고, Google과 Amazon을 검색할 수 있는 기능을 제공하세요.

`langchain-scraperapi` 패키지는 [ScraperAPI](https://www.scraperapi.com/) 서비스를 기반으로 하는 세 가지 즉시 사용 가능한 LangChain 도구를 추가합니다:

| Tool class | 용도 |
|------------|------------------|
| `ScraperAPITool` | 모든 웹 페이지의 HTML/텍스트/마크다운 가져오기 |
| `ScraperAPIGoogleSearchTool` | 구조화된 Google Search SERP 데이터 가져오기 |
| `ScraperAPIAmazonSearchTool` | 구조화된 Amazon 제품 검색 데이터 가져오기 |

## 개요

### Integration 세부 정보

| Package | Serializable | JS support |  Package latest |
| :--- | :---: | :---: | :---: |
| [langchain-scraperapi](https://pypi.org/project/langchain-scraperapi/) | ❌ | ❌ |  ![PyPI - Version](https://img.shields.io/pypi/v/langchain-scraperapi?style=flat-square&label=%20) |

## 설정

`langchain-scraperapi` 패키지를 설치하세요:

```python
pip install -qU langchain-scraperapi
```

### 자격 증명

[ScraperAPI](https://www.scraperapi.com/)에서 계정을 생성하고 API 키를 받으세요:

```python
import os

if not os.environ.get("SCRAPERAPI_API_KEY"):
    os.environ["SCRAPERAPI_API_KEY"] = "your-api-key"
```

## 인스턴스화

```python
from langchain_scraperapi.tools import ScraperAPITool

tool = ScraperAPITool()
```

## 호출

### 인자와 함께 직접 호출

```python
output = tool.invoke(
    {
        "url": "https://langchain.com",
        "output_format": "markdown",
        "render": True,
    }
)
print(output)
```

## 기능

### 1. `ScraperAPITool` — 모든 웹사이트 탐색

원시 ScraperAPI endpoint를 호출하고 HTML, 렌더링된 DOM, 텍스트 또는 마크다운을 가져옵니다.

**호출 인자:**

* **`url`** **(필수)** – 대상 페이지 URL
* **선택 사항 (ScraperAPI query params 반영):**
  * `output_format`: `"text"` | `"markdown"` (기본값은 원시 HTML 반환)
  * `country_code`: 예: `"us"`, `"de"`
  * `device_type`: `"desktop"` | `"mobile"`
  * `premium`: `bool` – 프리미엄 프록시 사용
  * `render`: `bool` – HTML 반환 전 JS 실행
  * `keep_headers`: `bool` – 응답 헤더 포함

전체 수정자 목록은 [ScraperAPI request-customisation docs](https://docs.scraperapi.com/python/making-requests/customizing-requests)를 참조하세요.

```python
from langchain_scraperapi.tools import ScraperAPITool

tool = ScraperAPITool()

html_text = tool.invoke(
    {
        "url": "https://langchain.com",
        "output_format": "markdown",
        "render": True,
    }
)
print(html_text[:300], "…")
```

### 2. `ScraperAPIGoogleSearchTool` — 구조화된 Google Search

`/structured/google/search`를 통한 구조화된 SERP 데이터.

**호출 인자:**

* **`query`** **(필수)** – 자연어 검색 문자열
* **선택 사항:** `country_code`, `tld`, `uule`, `hl`, `gl`, `ie`, `oe`, `start`, `num`
* `output_format`: `"json"` (기본값) 또는 `"csv"`

```python
from langchain_scraperapi.tools import ScraperAPIGoogleSearchTool

google_search = ScraperAPIGoogleSearchTool()

results = google_search.invoke(
    {
        "query": "what is langchain",
        "num": 20,
        "output_format": "json",
    }
)
print(results)
```

### 3. `ScraperAPIAmazonSearchTool` — 구조화된 Amazon Search

`/structured/amazon/search`를 통한 구조화된 제품 결과.

**호출 인자:**

* **`query`** **(필수)** – 제품 검색어
* **선택 사항:** `country_code`, `tld`, `page`
* `output_format`: `"json"` (기본값) 또는 `"csv"`

```python
from langchain_scraperapi.tools import ScraperAPIAmazonSearchTool

amazon_search = ScraperAPIAmazonSearchTool()

products = amazon_search.invoke(
    {
        "query": "noise cancelling headphones",
        "tld": "co.uk",
        "page": 2,
    }
)
print(products)
```

## 에이전트 내에서 사용

다음은 AI 에이전트에서 도구를 사용하는 예시입니다. `ScraperAPITool`은 AI에게 모든 웹사이트를 탐색하고, 기사를 요약하며, 링크를 클릭하여 페이지 간 탐색할 수 있는 기능을 제공합니다.

```python
pip install -qU langchain-openai langchain
```

```python
import os

from langchain.agents import create_agent
from langchain_openai import ChatOpenAI
from langchain_scraperapi.tools import ScraperAPITool


os.environ["SCRAPERAPI_API_KEY"] = "your-api-key"
os.environ["OPENAI_API_KEY"] = "your-api-key"

tools = [ScraperAPITool(output_format="markdown")]
model = ChatOpenAI(model="gpt-4o", temperature=0)

agent = create_agent(
    model=model,
    tools=tools,
    system_prompt="You are a helpful assistant that can browse websites for users. When asked to browse a website or a link, do so with the ScraperAPITool, then provide information based on the website based on the user's needs.",
)

response = agent.invoke(
    {"messages": [{"role": "user", "content": "can you browse hacker news and summarize the first website"}]}
)
print(response["messages"][-1].content)
```

## API reference

아래에서 요청을 사용자 정의하기 위한 도구의 추가 매개변수에 대한 자세한 정보를 확인할 수 있습니다:

* [ScraperAPITool](https://docs.scraperapi.com/python/making-requests/customizing-requests)
* [ScraperAPIGoogleSearchTool](https://docs.scraperapi.com/python/make-requests-with-scraperapi-in-python/scraperapi-structured-data-collection-in-python/google-serp-api-structured-data-in-python)
* [ScraperAPIAmazonSearchTool](https://docs.scraperapi.com/python/make-requests-with-scraperapi-in-python/scraperapi-structured-data-collection-in-python/amazon-search-api-structured-data-in-python)

LangChain wrapper는 이러한 매개변수를 직접 노출합니다.