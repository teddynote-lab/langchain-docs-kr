---
title: Confluence
---

[Confluence](https://www.atlassian.com/software/confluence)는 모든 프로젝트 관련 자료를 저장하고 정리하도록 설계된 위키 협업 플랫폼입니다. 지식 베이스로서 Confluence는 주로 콘텐츠 관리 활동을 지원합니다.

이 loader를 사용하면 Confluence 페이지를 가져와서 @[`Document`] 객체로 처리할 수 있습니다.

---

## 인증 방법

다음 인증 방법이 지원됩니다:

- `username/api_key`
- `OAuth2 login`
- `cookies`
- On-premises 설치: `token` 인증

---

## 페이지 선택

다음을 사용하여 로드할 페이지를 지정할 수 있습니다:

- **page_ids** (*list*):
  해당 페이지를 로드하기 위한 `page_id` 값의 목록입니다.

- **space_key** (*string*):
  지정된 confluence space 내의 모든 페이지를 로드하기 위한 `space_key` 값의 문자열입니다.

`page_ids`와 `space_key`가 모두 제공되면, loader는 두 목록의 페이지 합집합을 반환합니다.

*힌트:* `space_key`와 `page_id` 모두 Confluence 페이지의 URL에서 찾을 수 있습니다:
`https://yoursite.atlassian.com/wiki/spaces/{space_key}/pages/{page_id}`

---

## 첨부 파일

boolean 매개변수 **include_attachments**를 `True`로 설정하여 로드된 @[`Document`] 객체에 첨부 파일을 포함할 수 있습니다 (기본값: `False`). 활성화되면 모든 첨부 파일이 다운로드되고 텍스트 콘텐츠가 추출되어 Document에 추가됩니다.

**현재 지원되는 첨부 파일 유형:**

- PDF (`.pdf`)
- PNG (`.png`)
- JPEG/JPG (`.jpeg`, `.jpg`)
- SVG (`.svg`)
- Word (`.doc`, `.docx`)
- Excel (`.xls`, `.xlsx`)

---

ConfluenceLoader를 사용하기 전에 atlassian-python-api package의 최신 버전이 설치되어 있는지 확인하세요:

```python
pip install -qU  atlassian-python-api
```

## 예제

### Username과 Password 또는 Username과 API Token (Atlassian Cloud 전용)

이 예제는 username과 password를 사용하거나, Atlassian Cloud에서 호스팅되는 Confluence 버전에 연결하는 경우 username과 API Token을 사용하여 인증합니다.
API token은 다음에서 생성할 수 있습니다: [id.atlassian.com/manage-profile/security/api-tokens](https://id.atlassian.com/manage-profile/security/api-tokens).

`limit` 매개변수는 단일 호출에서 검색할 문서 수를 지정하며, 총 검색할 문서 수를 지정하는 것이 아닙니다.
기본적으로 코드는 50개 문서 배치로 최대 1000개의 문서를 반환합니다. 총 문서 수를 제어하려면 `max_pages` 매개변수를 사용하세요.
atlassian-python-api package에서 `limit` 매개변수의 최대값은 현재 100입니다.

```python
from langchain_community.document_loaders import ConfluenceLoader

loader = ConfluenceLoader(
    url="https://yoursite.atlassian.com/wiki",
    username="<your-confluence-username>",
    api_key="<your-api-token>",
    space_key="<your-space-key>",
    include_attachments=True,
    limit=50,
)
documents = loader.load()
```

### Personal Access Token (Server/On-Prem 전용)

이 방법은 Data Center/Server on-prem 에디션에서만 유효합니다.
Personal Access Token (PAT) 생성 방법에 대한 자세한 내용은 공식 Confluence 문서를 확인하세요: [confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html](https://confluence.atlassian.com/enterprise/using-personal-access-tokens-1026032365.html).
PAT를 사용할 때는 token 값만 제공하며, username을 제공할 수 없습니다.
ConfluenceLoader는 PAT를 생성한 사용자의 권한으로 실행되며, 해당 사용자가 액세스할 수 있는 문서만 로드할 수 있습니다.

```python
from langchain_community.document_loaders import ConfluenceLoader

loader = ConfluenceLoader(
    url="https://confluence.yoursite.com/",
    token="<your-personal-access-token>",
    space_key="<your-space-key>",
    include_attachments=True,
    limit=50,
    max_pages=50,
)
documents = loader.load()
```