---
title: Airbyte Hubspot (Deprecated)
---

참고: `AirbyteHubspotLoader`는 더 이상 사용되지 않습니다. 대신 [`AirbyteLoader`](/oss/integrations/document_loaders/airbyte)를 사용하세요.

>[Airbyte](https://github.com/airbytehq/airbyte)는 API, 데이터베이스 및 파일에서 웨어하우스 및 레이크로의 ELT 파이프라인을 위한 데이터 통합 플랫폼입니다. 데이터 웨어하우스 및 데이터베이스에 대한 가장 큰 ELT 커넥터 카탈로그를 보유하고 있습니다.

이 loader는 Hubspot connector를 document loader로 노출하여 다양한 Hubspot 객체를 document로 로드할 수 있게 합니다.

## Installation

먼저 `airbyte-source-hubspot` python package를 설치해야 합니다.

```python
pip install -qU  airbyte-source-hubspot
```

## Example

reader 구성 방법에 대한 자세한 내용은 [Airbyte documentation page](https://docs.airbyte.com/integrations/sources/hubspot/)를 확인하세요.
config 객체가 준수해야 하는 JSON schema는 Github에서 찾을 수 있습니다: [https://github.com/airbytehq/airbyte/blob/master/airbyte-integrations/connectors/source-hubspot/source_hubspot/spec.yaml](https://github.com/airbytehq/airbyte/blob/master/airbyte-integrations/connectors/source-hubspot/source_hubspot/spec.yaml).

일반적인 형태는 다음과 같습니다:

```python
{
  "start_date": "<date from which to start retrieving records from in ISO format, e.g. 2020-10-20T00:00:00Z>",
  "credentials": {
    "credentials_title": "Private App Credentials",
    "access_token": "<access token of your private app>"
  }
}
```

기본적으로 모든 필드는 document의 metadata로 저장되며 text는 빈 문자열로 설정됩니다. reader가 반환하는 document를 변환하여 document의 text를 구성하세요.

```python
from langchain_community.document_loaders.airbyte import AirbyteHubspotLoader

config = {
    # your hubspot configuration
}

loader = AirbyteHubspotLoader(
    config=config, stream_name="products"
)  # check the documentation linked above for a list of all streams
```

이제 일반적인 방법으로 document를 로드할 수 있습니다

```python
docs = loader.load()
```

`load`는 list를 반환하므로 모든 document가 로드될 때까지 차단됩니다. 이 프로세스를 더 잘 제어하려면 대신 iterator를 반환하는 `lazy_load` method를 사용할 수도 있습니다:

```python
docs_iterator = loader.lazy_load()
```

기본적으로 page content는 비어 있고 metadata 객체에 record의 모든 정보가 포함되어 있다는 점을 유념하세요. document를 처리하려면 base loader를 상속하는 class를 생성하고 `_handle_records` method를 직접 구현하세요:

```python
from langchain_core.documents import Document


def handle_record(record, id):
    return Document(page_content=record.data["title"], metadata=record.data)


loader = AirbyteHubspotLoader(
    config=config, record_handler=handle_record, stream_name="products"
)
docs = loader.load()
```

## Incremental loads

일부 stream은 incremental loading을 허용합니다. 이는 source가 동기화된 record를 추적하고 다시 로드하지 않는다는 것을 의미합니다. 이는 데이터 볼륨이 많고 자주 업데이트되는 source에 유용합니다.

이를 활용하려면 loader의 `last_state` property를 저장하고 loader를 다시 생성할 때 전달하세요. 이렇게 하면 새로운 record만 로드됩니다.

```python
last_state = loader.last_state  # store safely

incremental_loader = AirbyteHubspotLoader(
    config=config, stream_name="products", state=last_state
)

new_docs = incremental_loader.load()
```