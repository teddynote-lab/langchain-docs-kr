---
title: Docker로 LangSmith 자체 호스팅하기
sidebarTitle: Docker에 설치하기
---

<Info>
LangSmith 자체 호스팅은 가장 규모가 크고 보안을 중요시하는 고객을 위해 설계된 Enterprise Plan의 추가 기능입니다. 자세한 내용은 [가격 페이지](https://www.langchain.com/pricing)를 참조하고, 환경에서 LangSmith를 시험해볼 수 있는 라이선스 키를 받으려면 [영업팀에 문의](https://www.langchain.com/contact-sales)하세요.
</Info>

이 가이드는 개발 및 테스트 목적으로 Docker를 사용하여 **LangSmith 플랫폼**을 로컬에서 실행하는 방법을 제공합니다.

<Warning>
**개발/테스트 전용**입니다. 프로덕션 환경에서는 Docker Compose를 사용하지 마세요. 프로덕션 배포의 경우 [Kubernetes](/langsmith/kubernetes)를 사용하세요.
</Warning>

<Note>
이 페이지는 로컬 테스트를 위한 기본 [LangSmith 플랫폼](/langsmith/self-hosted#langsmith) 설치 방법을 설명합니다. 배포 관리 기능은 포함되어 있지 **않습니다**. 자세한 내용은 [자체 호스팅 옵션](/langsmith/self-hosted)을 검토하세요.
</Note>

Docker Compose는 로컬 개발 환경에만 제한되며 AWS Elastic Container Service, Azure Container Instances, Google Cloud Run과 같은 컨테이너 서비스에 대한 지원은 제공하지 않습니다.

## 사전 요구사항

1. Docker가 시스템에 설치되어 실행 중인지 확인하세요. 다음 명령어로 확인할 수 있습니다:

   ```bash
   docker info
   ```

   출력에 서버 정보가 표시되지 않으면 Docker가 올바르게 설치되었는지 확인하고 Docker 데몬을 실행하세요.

   1. 권장사항: 최소 4 vCPU, 16GB 메모리가 시스템에서 사용 가능해야 합니다.
      * 조직 규모/사용량에 따라 다양한 서비스의 리소스 요청/제한을 조정해야 할 수 있습니다
   2. 디스크 공간: LangSmith는 많은 디스크 공간이 필요할 수 있습니다. 충분한 디스크 공간이 있는지 확인하세요.

2. LangSmith License Key
   1. LangChain 담당자로부터 받을 수 있습니다. 자세한 내용은 [영업팀에 문의](https://www.langchain.com/contact-sales)하세요.

3. Api Key Salt

   1. 생성할 수 있는 비밀 키입니다. 무작위 문자열이어야 합니다.
   2. 다음 명령어를 사용하여 생성할 수 있습니다:

   ```bash
   openssl rand -base64 32
   ```

4. `https://beacon.langchain.com`으로의 Egress (오프라인 모드로 실행하지 않는 경우)
   1. LangSmith는 라이선스 확인 및 사용량 보고를 위해 `https://beacon.langchain.com`으로의 egress가 필요합니다. 이는 LangSmith가 제대로 작동하기 위해 필요합니다. egress 요구사항에 대한 자세한 내용은 [Egress](/langsmith/self-host-egress) 섹션에서 확인할 수 있습니다.

5. Configuration
   1. `.env` 파일에서 설정할 수 있는 여러 구성 옵션이 있습니다. 사용 가능한 구성 옵션에 대한 자세한 내용은 [Configuration](/langsmith/self-host-scale) 섹션에서 확인할 수 있습니다.

## Docker Compose를 통한 실행

다음은 Docker Compose를 사용하여 LangSmith를 실행하는 방법을 설명합니다. 이는 Kubernetes 없이 LangSmith를 실행하는 가장 유연한 방법입니다. Docker Compose의 기본 구성은 로컬 테스트 전용이며 공개 인터넷에 노출되는 서비스가 있는 인스턴스용이 아닙니다. **프로덕션 환경에서는 보안이 강화된 Kubernetes 환경을 사용할 것을 강력히 권장합니다.**

### 1. LangSmith `docker-compose.yml` 파일 가져오기

LangSmith SDK 저장소에서 `docker-compose.yml` 파일과 관련 파일을 찾을 수 있습니다: [*LangSmith Docker Compose File*](https://github.com/langchain-ai/helm/blob/main/charts/langsmith/docker-compose/docker-compose.yaml)

LangSmith SDK에서 `docker-compose.yml` 파일과 해당 디렉토리의 모든 파일을 프로젝트 디렉토리로 복사하세요.

* `users.xml` 파일도 함께 복사해야 합니다.

### 2. 환경 변수 구성

1. LangSmith SDK에서 `.env.example` 파일을 프로젝트 디렉토리로 복사하고 `.env`로 이름을 변경하세요.
2. `.env` 파일에서 적절한 값을 구성하세요. 사용 가능한 구성 옵션은 [Configuration](/langsmith/self-hosted) 섹션에서 확인할 수 있습니다.

이러한 환경 변수를 `docker-compose.yml` 파일에 직접 설정하거나 터미널에서 export할 수도 있습니다. `.env` 파일에 설정하는 것을 권장합니다.

### 3. 서버 시작

터미널에서 다음 명령어를 실행하여 LangSmith 애플리케이션을 시작하세요:

```bash
docker-compose up
```

다음 명령어를 실행하여 백그라운드에서 서버를 실행할 수도 있습니다:

```bash
docker-compose up -d
```

### 배포 검증:

1. `cli-langchain-frontend-1` 컨테이너의 노출된 포트에 curl 요청:

   ```bash
   curl localhost:1980/info{"version":"0.5.7","license_expiration_time":"2033-05-20T20:08:06","batch_ingest_config":{"scale_up_qsize_trigger":1000,"scale_up_nthreads_limit":16,"scale_down_nempty_trigger":4,"size_limit":100,"size_limit_bytes":20971520}}
   ```

2. 브라우저에서 `cli-langchain-frontend-1` 컨테이너의 노출된 포트 방문

   LangSmith UI는 `http://localhost:1980`에서 확인/작동해야 합니다

   ![.langsmith\_ui.png](/langsmith/images/langsmith-ui.png)

### 로그 확인

서버가 실행 중인지 확인하고 로그를 보려면 다음 명령어를 실행하세요

```bash
docker-compose logs
```

### 서버 중지

```bash
docker-compose down
```

## LangSmith 사용하기

이제 LangSmith가 실행 중이므로 코드를 추적하는 데 사용할 수 있습니다. 자체 호스팅 LangSmith 사용 방법에 대한 자세한 내용은 [자체 호스팅 사용 가이드](/langsmith/self-hosted)에서 확인할 수 있습니다.

LangSmith 인스턴스가 실행 중이지만 아직 완전히 설정되지 않았을 수 있습니다.

기본 구성 중 하나를 사용한 경우 인증이 없는 구성을 배포했을 수 있습니다. 이 상태에서는 인증이나 사용자 계정 개념, API 키가 없으며 호스트 이름이 LangChain tracer/LangSmith SDK에 전달되는 한 API 키 없이 직접 trace를 제출할 수 있습니다.

다음 단계로, 인프라 관리자와 협력하여 다음을 수행하는 것을 강력히 권장합니다:

* LangSmith 인스턴스에 대한 DNS 설정으로 더 쉬운 액세스 활성화
* LangSmith에 제출되는 trace의 전송 중 암호화를 보장하기 위한 SSL 구성
* LangSmith 인스턴스를 보호하기 위한 [oauth 인증](/langsmith/self-host-sso) 또는 [기본 인증](/langsmith/self-host-basic-auth) 구성
* LangSmith 프론트엔드 및 API에만 액세스를 제한하도록 Docker 환경에 대한 액세스 보안
* 보안이 강화된 Postgres 및 Redis 인스턴스에 LangSmith 연결