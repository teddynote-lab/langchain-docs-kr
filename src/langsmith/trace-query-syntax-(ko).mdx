---
title: Trace query syntax
sidebarTitle: Trace query syntax
---

SDK의 메서드나 API의 엔드포인트를 사용하여 분석 및 내보내기를 위해 run을 필터링할 수 있습니다.

## Filter 인자

| Keys                          | Description                                                                                                                                                                                                    |
| ----------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `project_id` / `project_name` | run을 가져올 프로젝트 - 단일 프로젝트 또는 프로젝트 목록이 될 수 있습니다.                                                                                                                                      |
| `trace_id`                    | 특정 trace의 일부인 run을 가져옵니다.                                                                                                                                                                          |
| `run_type`                    | 가져올 run의 유형으로, `llm`, `chain`, `tool`, `retriever` 등이 있습니다.                                                                                                                                       |
| `dataset_name` / `dataset_id` | 지정된 dataset의 example row와 연결된 run을 가져옵니다. 이는 주어진 dataset에 대해 prompt나 model을 비교하는 데 유용합니다.                                                                                      |
| `reference_example_id`        | 특정 example row와 연결된 run을 가져옵니다. 이는 주어진 입력에 대해 prompt나 model을 비교하는 데 유용합니다.                                                                                                    |
| `parent_run_id`               | 주어진 run의 자식인 run을 가져옵니다. 이는 context manager를 사용하여 그룹화된 run을 가져오거나 agent trajectory를 가져오는 데 유용합니다.                                                                        |
| `error`                       | 오류가 발생했거나 발생하지 않은 run을 가져옵니다.                                                                                                                                                               |
| `run_ids`                     | 주어진 run id 목록을 가진 run을 가져옵니다. 참고: **이는 다른 모든 필터링 인자를 무시합니다.**                                                                                                                  |
| `filter`                      | 주어진 구조화된 filter 문과 일치하는 run을 가져옵니다. 자세한 내용은 아래 가이드를 참조하세요.                                                                                                                  |
| `trace_filter`                | trace tree의 ROOT run에 적용할 filter입니다. 이는 일반 `filter` 매개변수와 함께 사용하여 trace 내 root run의 속성으로 run을 필터링할 수 있도록 합니다.                                                          |
| `tree_filter`                 | sibling 및 child run을 포함하여 trace tree의 다른 run에 적용할 filter입니다. 이는 일반 `filter` 매개변수와 함께 사용하여 trace 내 모든 run의 속성으로 run을 필터링할 수 있도록 합니다.                         |
| `is_root`                     | root run만 반환합니다.                                                                                                                                                                                          |
| `select`                      | 응답에서 반환할 필드를 선택합니다. 기본적으로 모든 필드가 반환됩니다.                                                                                                                                           |
| `query` (_experimental_)      | 자연어 쿼리로, 쿼리를 filter 문으로 변환합니다.                                                                                                                                                                 |

## Filter query language

LangSmith는 run을 가져올 때 복잡한 필터링 작업을 수행할 수 있는 filter query language를 통해 강력한 필터링 기능을 지원합니다.

필터링 문법은 run 객체의 필드에 대한 일반적인 비교 연산자를 기반으로 합니다. 지원되는 비교 연산자는 다음과 같습니다:

-   `gte` (greater than or equal to, 크거나 같음)
-   `gt` (greater than, 큼)
-   `lte` (less than or equal to, 작거나 같음)
-   `lt` (less than, 작음)
-   `eq` (equal to, 같음)
-   `neq` (not equal to, 같지 않음)
-   `has` (run이 tag 또는 metadata json blob을 포함하는지 확인)
-   `search` (문자열 필드에서 부분 문자열 검색)

또한 `and` 연산자를 통해 여러 비교를 결합할 수 있습니다.

이러한 연산자는 run 객체의 필드에 적용할 수 있으며, `id`, `name`, `run_type`, `start_time` / `end_time`, `latency`, `total_tokens`, `error`, `execution_order`, `tags` 및 `feedback_key`와 `feedback_score`를 통한 관련 feedback 등이 있습니다.