---
title: 구성 가능한 헤더
sidebarTitle: 구성 가능한 헤더
---
LangGraph는 런타임 구성을 통해 에이전트 동작과 권한을 동적으로 수정할 수 있습니다. [LangSmith Deployment](/langsmith/deployment-quickstart)를 사용할 때, 요청 본문(`config`) 또는 특정 요청 헤더에 이 구성을 전달할 수 있습니다. 이를 통해 사용자 신원이나 다른 요청에 따라 조정이 가능합니다.

프라이버시를 위해 [`langgraph.json`](/langsmith/application-structure#configuration-file) 파일의 `http.configurable_headers` 섹션을 통해 런타임 구성에 전달되는 헤더를 제어할 수 있습니다.

포함 및 제외할 헤더를 사용자 정의하는 방법은 다음과 같습니다:

```json
{
  "http": {
    "configurable_headers": {
      "include": ["x-user-id", "x-organization-id", "my-prefix-*"],
      "exclude": ["authorization", "x-api-key"]
    }
  }
}
```

`include`와 `exclude` 목록은 정확한 헤더 이름 또는 임의의 문자 수와 일치하는 `*`를 사용한 패턴을 허용합니다. 보안을 위해 다른 정규식 패턴은 지원되지 않습니다.

## 그래프 내에서 사용하기

그래프 내에서 포함된 헤더에 접근하려면 노드의 `config` 인수를 사용할 수 있습니다.

```python
def my_node(state, config):
  organization_id = config["configurable"].get("x-organization-id")
  ...
```

또는 컨텍스트에서 가져올 수 있습니다(도구 내부나 다른 중첩된 함수 내에서 유용합니다).

```python
from langgraph.config import get_config

def search_everything(query: str):
  organization_id = get_config()["configurable"].get("x-organization-id")
  ...
```

이를 사용하여 그래프를 동적으로 컴파일할 수도 있습니다.

```python
# my_graph.py.
import contextlib

@contextlib.asynccontextmanager
async def generate_agent(config):
  organization_id = config["configurable"].get("x-organization-id")
  if organization_id == "org1":
    graph = ...
    yield graph
  else:
    graph = ...
    yield graph

```

```json
{
  "graphs": {"agent": "my_grph.py:generate_agent"}
}
```

### 구성 가능한 헤더 비활성화

구성 가능한 헤더를 비활성화하려면 `exclude` 목록에 와일드카드 패턴을 설정하면 됩니다:

```json
{
  "http": {
    "configurable_headers": {
      "exclude": ["*"]
    }
  }
}
```

이렇게 하면 모든 헤더가 실행 구성에 추가되지 않도록 제외됩니다.

제외는 포함보다 우선순위가 높습니다.