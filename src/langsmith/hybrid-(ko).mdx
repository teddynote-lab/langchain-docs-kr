---
title: Hybrid
sidebarTitle: 개요
---

<Info>
**중요**
hybrid 옵션을 사용하려면 [Enterprise](https://langchain.com/pricing) 플랜이 필요합니다.
</Info>

**hybrid** 모델은 LangSmith 인프라를 LangChain의 클라우드와 귀하의 클라우드로 분리합니다:

- **Control plane** (LangSmith UI, API 및 오케스트레이션)은 LangChain의 클라우드에서 실행되며 LangChain이 관리합니다.
- **Data plane** (귀하의 <Tooltip tip="애플리케이션을 실행하는 서버입니다.">LangGraph Server</Tooltip> 및 에이전트 워크로드)은 귀하의 클라우드에서 실행되며 귀하가 관리합니다.

이는 관리형 인터페이스의 편리함과 자체 환경에서 워크로드를 실행하는 유연성을 결합합니다.

<Note>
[control plane](/langsmith/control-plane), [data plane](/langsmith/data-plane), [LangGraph Server](/langsmith/langgraph-server) 아키텍처 개념에 대해 자세히 알아보세요.
</Note>

| Component      | Responsibilities | Where it runs | Who manages it |
|----------------|------------------|---------------|----------------|
| <Tooltip tip="배포를 관리하기 위한 LangSmith UI 및 API입니다.">Control plane</Tooltip> | <ul><li>배포 및 리비전 생성을 위한 UI</li><li>배포 관리를 위한 API</li><li>관찰성 데이터 저장소</li></ul> | LangChain의 클라우드 | LangChain |
| <Tooltip tip="LangGraph Server와 에이전트가 실행되는 런타임 환경입니다.">Data plane</Tooltip> | <ul><li>Control plane과 동기화하는 Listener</li><li>LangGraph Server (귀하의 에이전트)</li><li>백업 서비스 (Postgres, Redis 등)</li></ul> | 귀하의 클라우드 | 귀하 |

hybrid 모델로 LangSmith를 호스팅할 때는 [LangSmith API key](/langsmith/create-account-api-key)로 인증합니다.

### Workflow

1. `langgraph-cli` 또는 [Studio](/langsmith/studio)를 사용하여 로컬에서 그래프를 테스트합니다.
1. `langgraph build` 명령을 사용하여 Docker 이미지를 빌드합니다.
1. [control plane UI](/langsmith/control-plane#control-plane-ui)에서 LangGraph Server를 배포합니다.

<Note>
지원되는 Compute Platform: [Kubernetes](https://kubernetes.io/).<br></br>
설정은 [Hybrid 설정 가이드](/langsmith/deploy-hybrid)를 참조하세요.
</Note>

### Architecture

<img
    className="block dark:hidden"
    src="/langsmith/images/hybrid-with-deployment-light.png"
    alt="Hybrid 배포: LangChain 호스팅 control plane (LangSmith UI/API)이 배포를 관리합니다. 귀하의 클라우드는 Kubernetes에서 listener, LangGraph Server 인스턴스 및 백업 저장소 (Postgres/Redis)를 실행합니다."
/>

<img
    className="hidden dark:block"
    src="/langsmith/images/hybrid-with-deployment-dark.png"
    alt="Hybrid 배포: LangChain 호스팅 control plane (LangSmith UI/API)이 배포를 관리합니다. 귀하의 클라우드는 Kubernetes에서 listener, LangGraph Server 인스턴스 및 백업 저장소 (Postgres/Redis)를 실행합니다."
/>

### Compute Platforms

- **Kubernetes**: Hybrid는 모든 Kubernetes 클러스터에서 data plane 실행을 지원합니다.

<Tip>
Kubernetes 설정은 [Hybrid 설정 가이드](/langsmith/deploy-hybrid)를 참조하세요
</Tip>

### Egress to LangSmith and the control plane

hybrid 배포 모델에서 자체 호스팅 data plane은 control plane으로 네트워크 요청을 보내 data plane에서 구현해야 하는 변경 사항을 폴링합니다. Data plane 배포의 trace도 control plane과 통합된 LangSmith 인스턴스로 전송됩니다. Control plane으로의 이 트래픽은 HTTPS를 통해 암호화됩니다. Data plane은 LangSmith API key로 control plane과 인증합니다.

이 egress를 활성화하려면 내부 방화벽 규칙이나 클라우드 리소스(예: Security Groups)를 업데이트하여 [특정 IP 주소를 허용](/langsmith/cloud#ingress-into-langchain-saas)해야 할 수 있습니다.

<Warning>
AWS/Azure PrivateLink 또는 GCP Private Service Connect는 현재 지원되지 않습니다. 이 트래픽은 인터넷을 통해 전송됩니다.
</Warning>

## Listeners

hybrid 옵션에서는 LangSmith workspace와 Kubernetes 클러스터가 구성된 방식에 따라 하나 이상의 ["listener" 애플리케이션](/langsmith/data-plane#listener-application)이 실행될 수 있습니다.

### Kubernetes cluster organization
- Kubernetes 클러스터에서 하나 이상의 listener가 실행될 수 있습니다.
- Listener는 해당 클러스터의 하나 이상의 namespace에 배포할 수 있습니다.
- 클러스터 소유자는 listener 레이아웃과 LangGraph Server 배포를 계획할 책임이 있습니다.

### LangSmith workspace organization
- Workspace는 하나 이상의 listener와 연결될 수 있습니다.
- Workspace는 모든 listener가 배포된 Kubernetes 클러스터에만 배포할 수 있습니다.

## Use Cases

다음은 일반적인 listener 구성입니다(엄격한 요구 사항은 아님):

### 각 LangSmith workspace → 별도의 Kubernetes 클러스터
- 클러스터 `alpha`는 workspace `A`를 실행
- 클러스터 `beta`는 workspace `B`를 실행

### 별도의 클러스터와 공유 "dev" 클러스터
- 클러스터 `alpha`는 workspace `A`를 실행
- 클러스터 `beta`는 workspace `B`를 실행
- 클러스터 `dev`는 workspace `A`와 `B`를 실행
- 두 workspace 모두 두 개의 listener를 가지며, 클러스터 `dev`는 두 개의 listener 배포를 가짐

### 하나의 클러스터, workspace당 하나의 namespace
- 클러스터 `alpha`, namespace `1`은 workspace `A`를 실행
- 클러스터 `alpha`, namespace `2`는 workspace `B`를 실행

### 하나의 클러스터, 여러 workspace를 위한 단일 namespace
- 클러스터 `alpha`는 workspace `A`를 실행
- 클러스터 `alpha`는 workspace `B`를 실행